<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Workshop: Lisk Transport :: Documentation</title>
    <link rel="canonical" href="https://lisk.io/documentation/lisk-sdk/tutorials/transport.html">
    <meta name="generator" content="Antora 2.1.2">
    <link rel="stylesheet" href="../../_/css/site.css">
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<!--
    <link href="https://unpkg.com/primer/build/build.css" rel="stylesheet">
-->

<link rel="icon" href="/sites/default/files/favicons/favicon-32x32.png" type="image/png">
  </head>
  <body class="article">
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NKNKGHL');</script>
<!-- End Google Tag Manager -->
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NKNKGHL"
                  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<header class="header">
  <nav class="navbar">
      <div class="navbar-content">
        <div class="navbar-brand">
          <a href="https://lisk.io/documentation" class="lisk-logo"></a>
          <span  class="nav-brand__name-area">
              <strong class="nav-brand__name-area__title">Documentation</strong>
          </span>
          <button class="navbar-burger" data-target="topbar-nav">
            <span></span>
            <span></span>
            <span></span>
          </button>
        </div>
        <div id="topbar-nav" class="navbar-menu">
          <div class="navbar-end">
            <a class="navbar-item" href="https://lisk.io/documentation">Home</a>
            <a class="navbar-item" href="https://lisk.io/documentation/lisk-sdk">Lisk SDK</a>
            <a class="navbar-item" href="https://lisk.io/documentation/lisk-core">Lisk Core</a>
<!--            <div class="navbar-item has-dropdown is-hoverable">-->
<!--              <a class="navbar-link" href="#">Products</a>-->
<!--              <div class="navbar-dropdown">-->
<!--                <a class="navbar-item" target="_blank" href="https://github.com/LiskHQ/lisk-sdk">Lisk SDK Github</a>-->
<!--                <a class="navbar-item" target="_blank" href="https://github.com/LiskHQ/lisk-core">Lisk Core Github</a>-->
<!--                <a class="navbar-item" target="_blank" href="https://github.com/LiskHQ/lisk-hub">Lisk Hub Github</a>-->
<!--                <a class="navbar-item" target="_blank" href="https://github.com/LiskHQ/lisk-mobile">Lisk Mobile Github</a>-->
<!--                <a class="navbar-item" target="_blank" href="https://github.com/LiskHQ/lisk-explorer">Lisk Explorer Github</a>-->
<!--              </div>-->
<!--            </div>-->
<!--            <div class="navbar-item has-dropdown is-hoverable">-->
<!--              <a class="navbar-link" href="#">Services</a>-->
<!--              <div class="navbar-dropdown">-->
<!--                <a class="navbar-item" target="_blank" href="https://explorer.lisk.io/">Lisk Mainnet Explorer</a>-->
<!--                <a class="navbar-item" target="_blank" href="https://testnet-explorer.lisk.io/">Lisk Testnet Explorer</a>-->
<!--                <a class="navbar-item" target="_blank" href="https://testnet-faucet.lisk.io/">Lisk Testnet Faucet</a>-->
<!--              </div>-->
<!--            </div>-->
<!--            <div class="navbar-item has-dropdown is-hoverable">-->
<!--              <a class="navbar-link" href="#">Resources</a>-->
<!--              <div class="navbar-dropdown">-->
<!--                <a class="navbar-item" target="_blank" href="https://lisk.io">Lisk Website</a>-->
<!--                <a class="navbar-item" target="_blank" href="https://github.com/LiskHQ/lisk-sdk-examples">Example blockchain applications</a>-->
<!--                  <a class="navbar-item" target="_blank" href="https://www.liskdiscovery.com/">Community tools</a>-->
<!--              </div>-->
<!--            </div>-->
            <div class="navbar-item">
              <span class="control">
                <a class="button is-primary" href="https://lisk.io">Back to lisk.io</a>
              </span>
            </div>
          </div>
        </div>
      </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="lisk-sdk" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Lisk SDK</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html"><strong>Overview</strong></a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../setup.html">Setup</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../customize.html">Customize</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../configuration.html">Configuration</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text"><strong>Tutorials</strong></span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="index.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="hello-world.html">Hello World App</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cashback.html">Cashback App</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="transport.html">Lisk Transport</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text"><strong>Lisk Commander</strong></span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../lisk-commander/index.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../lisk-commander/user-guide.html">User Guide</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../lisk-commander/user-guide/commands.html">Command Reference</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../lisk-commander/user-guide/lisk-core.html">Lisk Core Commands</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../lisk-commander/user-guide/sensitive-inputs.html">Sensitive inputs</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text"><strong>Lisk Elements</strong></span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../lisk-elements/index.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../lisk-elements/packages.html">Packages</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../lisk-elements/packages/api-client.html">API Client</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../lisk-elements/packages/client.html">Client</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../lisk-elements/packages/constants.html">Constants</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../lisk-elements/packages/cryptography.html">Cryptography</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../lisk-elements/packages/passphrase.html">Passphrase</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../lisk-elements/packages/transactions.html">Transactions</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text"><strong>Lisk Framework</strong></span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../lisk-framework/index.html">Overview</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Lisk SDK</span>
    <span class="version">2.3.6 (latest)</span>
  </div>
  <ul class="components">
    <li class="component">
      <span class="title">Lisk Core</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../lisk-core/index.html">2.1.3 (latest)</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <span class="title">Lisk SDK</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">2.3.6 (latest)</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main role="main">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Lisk SDK</a></li>
    <li><strong>Tutorials</strong></li>
    <li><a href="transport.html">Lisk Transport</a></li>
  </ul>
</nav>
<button class="toc-toggle"></button>
  <div class="edit-this-page"><a href="https://github.com/LiskHQ/lisk-docs/edit/docs-sdk/modules/ROOT/pages/tutorials/transport.adoc">Edit this Page</a></div>
</div>
<article class="doc"><a name="section-top"></a>
<h1>Workshop: Lisk Transport</h1>
<div class="sect1">
<h2 id="_motivation"><a class="anchor" href="#_motivation"></a>Motivation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Blockchain can benefit supply chain and transport industries by introducing a new level of data transparency and responsiveness that helps to improve processes and attracts potential clients.
Applying blockchain to certain supply chains can benefit the end consumer, primary producer, and any other party inbetween, through better insights about how any product came to be.</p>
</div>
<div class="paragraph">
<p>The blockchain network is the decentralised database layer, that stores all relevant information about the supply chain and the products and ensures the data cannot be manipulated anymore, once it&#8217;s on the blockchain.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/blockchain-supply-chain.jpg" alt="Blockchain Supply Chain">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_idea"><a class="anchor" href="#_idea"></a>Idea</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The goal is to create a simple decentralized supply chain tracking system.
The participants of the network can send, transport and receive packets with each other.</p>
</div>
<div class="paragraph">
<p>For the transportation of the packet, a simple trust system is implemented, that enables the sender to set certain requirements for the carrier of the packet.
The packet as well will be an active participant in the transportation process, as it will track itself with sensors during the transportation.
This is to ensure, that it hasn&#8217;t been manipulated during the transport.</p>
</div>
<div class="paragraph">
<p>The carrier will be rewarded upon successful transportation, and penalized if the transportation has failed for some reason.</p>
</div>
<div class="paragraph">
<p>For convenient usage of the system, a client application will be provided, that visualizes all relevant information about the supply chain tracking system, and that let&#8217;s users interact with the system by posting custom transactions.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_general_procedure"><a class="anchor" href="#_general_procedure"></a>General procedure</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This diagram shows the general workflow of the supply chain tracking system.
You find detailed descriptions of each step below.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/transport-uml.svg" alt="Flow chart of Lisk Transport">
</div>
</div>
<div class="sect2">
<h3 id="_initialize_packet_account"><a class="anchor" href="#_initialize_packet_account"></a>Initialize packet account</h3>
<div class="paragraph">
<p>Before registering the packet on the network, the sender needs to create a new account for the packet and store the passphrase on the IoT device inside the packet.
This is necessary, because the packet needs to sign the transactions it sends to the network, in order to communicate with it.</p>
</div>
</div>
<div class="sect2">
<h3 id="_register_packet"><a class="anchor" href="#_register_packet"></a>Register packet</h3>
<div class="paragraph">
<p>The packets are registered on the blockchain network by the packet sender.</p>
</div>
<div class="paragraph">
<p>When creating the <code>RegisterPacketTransaction</code>, the sender defines:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>packetId</code>: The ID of the packet that has been initialized in the step before.</p>
</li>
<li>
<p><code>postage</code>: This amount will be paid to the carrier for the transport of the packet.</p>
</li>
<li>
<p><code>security</code>: The security is the amount of tokens that will be locked on the carrier account, when the carrier receives the packet form the sender</p>
</li>
<li>
<p><code>minTrust</code>: The minimum amount of trust a carrier needs to have, to transport this packet</p>
</li>
<li>
<p><code>recipientId</code>: The ID of the desired recipient of the packet. Only the recipient can send the <code>FinishTransaction</code> later, which will finish the transport.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This transaction will:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>add the above data to the packet account.</p>
</li>
<li>
<p>set the <code>status</code> of the packet to <code>pending</code>.</p>
</li>
<li>
<p>transfer the postage from the senders' account to the packet account.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_start_transport"><a class="anchor" href="#_start_transport"></a>Start transport</h3>
<div class="paragraph">
<p>As next step, a carrier would go to the packet senders' address, receive the packet and start the delivery to the recipient.
The carrier needs to sign a transaction <code>StartTransportTransaction</code>, that verifies that the packet has been passed on to the carrier.</p>
</div>
<div class="paragraph">
<p>When creating the <code>StartTransportTransaction</code>, the carrier defines:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>packetID</code>: The ID of the packet that the carrier is going to transport.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This transaction will:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>lock the specified <code>security</code> of the packet in the carriers' account.
This security cannot be accessed by the carrier, unless the transport has been finished successfully.</p>
</li>
<li>
<p>add the <code>carrier</code> to the packet account.</p>
</li>
<li>
<p>set the <code>status</code> of the packet from <code>pending</code> to <code>ongoing</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_light_alarm"><a class="anchor" href="#_light_alarm"></a>Light alarm</h3>
<div class="paragraph">
<p>During the transportation of the packet, the packet will track itself with different sensors, to check if it gets manipulated during the travel.
If a manipulation is detected, it will send a self-signed alarm transaction to the network.</p>
</div>
<div class="paragraph">
<p>This <code>LightAlarmTransaction</code> will:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>change the packets' <code>status</code> to <code>alarm</code></p>
</li>
<li>
<p>Add the current <code>timestamp</code> to the list <code>asset.alarms.light</code> inside of the packet account.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_finish_transport"><a class="anchor" href="#_finish_transport"></a>Finish transport</h3>
<div class="paragraph">
<p>When reaching the recipient of the packet, the carrier passes the packet to the recipient.
The recipient needs to sign the <code>FinishTransportTransaction</code>, that verifies that the packet has been passed on to the recipient.</p>
</div>
<div class="paragraph">
<p>When sending the transaction, the recipient needs to specify:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>packetID</code>: The ID of the packet that the recipient received</p>
</li>
<li>
<p><code>status</code>: The status of the transport, which has 2 options: <code>"success"</code> or <code>"fail"</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This transaction will:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If <code>status="success"</code></p>
<div class="ulist">
<ul>
<li>
<p>Send <code>postage</code> to carrier account</p>
</li>
<li>
<p>Unlock <code>security</code> in carrier account</p>
</li>
<li>
<p>Increase <code>trust</code> of carrier +1</p>
</li>
<li>
<p>Set packet <code>status</code> to <code>success</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>If <code>status="fail"</code></p>
<div class="ulist">
<ul>
<li>
<p>Send <code>postage</code> to sender account</p>
</li>
<li>
<p>Add <code>security</code> to the sender account, and nullify <code>lockedSecurity</code> from the account fo the carrier.</p>
</li>
<li>
<p>Decrease <code>trust</code> of carrier by -1</p>
</li>
<li>
<p>Set packet <code>status</code> to <code>fail</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_hardware_provided"><a class="anchor" href="#_hardware_provided"></a>Hardware provided</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Raspberry Pi Zero W (running a headless Raspbian Buster lite)</p>
</li>
<li>
<p>16GB class 10 SDCard</p>
</li>
<li>
<p>A generic analog light sensor based on an LDR</p>
</li>
<li>
<p>Jumper cables</p>
</li>
<li>
<p>USB &#8594; Micro-USB cable</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<a href="transport0.html" class="page">Click here to go to the installation guide</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</article>
<aside class="article-aside hidden" role="navigation">
    <h3 class="toc-title">On this page:</h3>
    <div id="article-toc"></div>
</aside>
</main>
</div>
<footer class="footer">
    <div class="footer__container">
        <div class="footer__copyright">
            <div class="institutional-links-2">
                <span class="institutional-links-2__item">© 2019 Lisk Foundation</span>
                <a class="institutional-links-2__item" href="https://lisk.io/terms-conditions" class="institutional-links-2-item">Terms & Conditions</a>
                <a class="institutional-links-2__item" href="https://lisk.io/privacy" class="institutional-links-2-item">Privacy Policy</a>
            </div>
            <p class="footer__copyright-text">Lisk is a foundation registered in Zug, Zwitserland
            </p>
        </div>
        <div class="footer__logo-container">
            <img src="../_/img/lisk-logo-light.svg" class="footer__lisk-logo"/>
        </div>
        <div class="community-section">
            <p class="community-section__text">Follow Lisk on: </p>
            <div class="community-section__icons">
                <a href="https://github.com/LiskHQ" target="_blank" class="footer__icon icon-github"></a>
                <a href="https://www.youtube.com/channel/UCuqpGfg_bOQ8Ja4pj811PWg/featured" target="_blank" class="footer__icon icon-youtube"></a>
                <a href="https://www.reddit.com/r/Lisk/" target="_blank" class="footer__icon icon-reddit"></a>
                <a href="https://www.linkedin.com/company/lisk/" target="_blank" class="footer__icon icon-linkedin"></a>
                <a href="https://twitter.com/LiskHQ" target="_blank" class="footer__icon icon-twitter"></a>
                <a href="https://www.facebook.com/LiskHQ" target="_blank" class="footer__icon icon-facebook"></a>
            </div>
        </div>
    </div>
</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.1.1/tocbot.min.js"></script>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script async src="../../_/js/vendor/tabs-block-behaviour.js"></script>
<script>
    tocbot.init( {
        tocSelector: '#article-toc',
        contentSelector: 'article',
        headingSelector: 'h1, h2, h3',
        collapseDepth: 6,
        positionFixedSelector: null,
        scrollSmooth: false
    } );
    var tocList = document.getElementById( 'article-toc' ).getElementsByClassName( 'toc-list' );
    if ( tocList && tocList.length > 0 && tocList[0].childNodes.length > 0 ) {
        document.getElementById( 'article-toc' ).parentNode.classList.remove( 'hidden' );
    }
</script>
  </body>
</html>
