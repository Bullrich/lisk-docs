<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Lisk modules - Lisk  SDK  Docs</title>
    <link rel="canonical" href="https://lisk.io/documentation/lisk-sdk/v5/explanations/modules.html">
    <meta name="description" content="The Lisk Documentation comprises guides, tutorials, technical references and in-depth explanations about the Lisk SDK, Lisk Core, Lisk Service and the Lisk Protocol.">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <link rel="stylesheet" href="../../../_/css/site-extra.css">
      <link rel="stylesheet" href="../../../_/css/vendor/docsearch.min.css">
      <!-- fetched from https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css -->
<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<link rel="icon" href="../../../_/img/favicon.png" type="image/x-icon">
  </head>
  <body class="article">
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NKNKGHL');</script>
<!-- End Google Tag Manager -->
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NKNKGHL"
                  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

<header class="header">
  <nav class="navbar">
      <div class="navbar-content">
        <div class="navbar-brand">
          <a href="https://lisk.io" title="Lisk.io" class="lisk-logo"></a>
            <span  class="nav-brand__name-area">
              <strong class="nav-brand__name-area__title">SDK</strong>
                        </span>
          <div class="top-versions page-versions">
  <button class="version-menu-toggle top-version-menu-toggle" title="Show other versions of page">5.0.0</button>
  <div class="version-menu">
    <a class="version is-missing" href="../../index.html">3.0.2 (latest)</a>
    <a class="version is-current" href="modules.html">5.0.0</a>
    <a class="version is-missing" href="../../4.0.0/index.html">4.0.0</a>
    <a class="version is-missing" href="../../2.3.8/index.html">2.3.8</a>
  </div>
</div>
          <button class="navbar-burger" data-target="topbar-nav">
            <span></span>
            <span></span>
            <span></span>
          </button>
        </div>
        <div id="topbar-nav" class="navbar-menu">
          <div class="navbar-end">
            <div class="navbar-item has-dropdown is-hoverable">
              <a class="navbar-link" href="">Documentations</a>
              <div class="navbar-dropdown">
                <a class="navbar-item" href="https://lisk.io/documentation/lisk-protocol/">Lisk Protocol</a>
                <a class="navbar-item" href="https://lisk.io/documentation/lisk-sdk/">Lisk SDK</a>
                <a class="navbar-item" href="https://lisk.io/documentation/lisk-service/">Lisk Service</a>
                <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/">Lisk Core</a>
              </div>
            </div>
            <div class="navbar-item has-dropdown is-hoverable">
              <a class="navbar-link" href="">Resources</a>
              <div class="navbar-dropdown">
                <a class="navbar-item" href=""><strong>Lisk Service API</strong></a>
                <a class="navbar-item" href="https://lisk.io/documentation/lisk-service/references/api.html">Mainnet</a>
                <a class="navbar-item" href=""><strong>Lisk Core API</strong></a>
                <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/3.0.0/reference/api.html">Betanet</a>
                <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/reference/api.html">Testnet</a>
                <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/reference/api-mainnet.html">Mainnet</a>
                <hr class="navbar-divider">
                <a class="navbar-item" href=""><strong>Lisk Network Explorer</strong></a>
                <a class="navbar-item" target="_blank" href="https://betanet-explorer.lisk.io/">Betanet<i class="icofont-external-link"></i></a>
                <a class="navbar-item" target="_blank" href="https://testnet-explorer.lisk.io/">Testnet<i class="icofont-external-link"></i></a>
                <a class="navbar-item" target="_blank" href="https://explorer.lisk.io/">Mainnet<i class="icofont-external-link"></i></a>
              </div>
            </div>
          </div>
            <div class="navbar-menu search-box hide-for-print">
              <input id="search-input" type="text" placeholder="Search">
            </div>
        </div>
        <div class="navbar-item navbar-right">
<!--
          <a href="https://lisk.chat" title="Lisk Chat" target="_blank" class="footer__icon icon-discord-2x"></a>
-->
          <a href="https://github.com/LiskHQ" title="Lisk GitHub" target="_blank" class="footer__icon icon-github-2x"></a>
          <span class="control">
            <a class="button is-primary" target="_blank" title="Lisk Dev Forum" href="https://dev.lisk.io/">Get help</a>
          </span>
        </div>
      </div>
  </nav>
</header>
<div class="body-container">
  <div class="body">
<div class="nav-container" data-component="lisk-sdk" data-version="v5">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Lisk SDK</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Explanations</span>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="framework.html">The Lisk Framework</a>
  </li>
  <li class="nav-item is-current-page single-page" data-depth="2">
    <a class="nav-link" href="modules.html">Modules</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="plugins.html">Plugins</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="consensus.html">Consensus in Lisk</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../guides/app-development/index.html">Development guides</a>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../setup.html">Prerequisites</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../guides/app-development/configuration.html">Starting the default application</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../guides/app-development/custom-transactions.html">Creating a custom module</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../guides/app-development/interact-with-api.html">Interacting with the application</a>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../guides/app-development/broadcast.html">Broadcasting a transaction</a>
  </li>
</ul>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../guides/app-development/frontend.html">Creating a frontend</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../guides/app-development/launch.html">Launching of the blockchain application</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../guides/node-management/index.html">Management guides</a>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../guides/node-management/forging.html">Enable forging</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../guides/node-management/api-access.html">API access</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../guides/node-management/enable-ssl.html">Enable SSL</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../guides/node-management/logging.html">Logging</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../tutorials/index.html">Tutorials</a>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../tutorials/hello-world.html">Hello World</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../tutorials/supply-chain/index.html">Supply Chain</a>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../tutorials/supply-chain/part1.html">Part 1: Installation &amp; setup</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../tutorials/supply-chain/part2.html">Part 2: Track a packet on the blockchain</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../tutorials/supply-chain/part3.html">Part 3: A simple supply chain management system</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../tutorials/supply-chain/part4.html">Part 4: How to publish the application</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../references/index.html">References</a>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../references/api-specification.html">API specification</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../references/changelog.html">ChangeLog v4 to v5</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../migration.html">Migration guide v4 to v5</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../references/lisk-commander/index.html">Lisk Commander</a>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../references/lisk-commander/commands.html">Commands</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../references/lisk-commander/lisk-core-commands.html">Lisk Core commands</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../references/lisk-commander/sensitive-inputs.html">Sensitive inputs</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../references/lisk-elements/index.html">Lisk Elements</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../references/lisk-elements/api-client.html">API client</a>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="4">
    <a class="nav-link" href="../references/lisk-elements/api-client/accounts.html">Accounts</a>
  </li>
  <li class="nav-item single-page" data-depth="4">
    <a class="nav-link" href="../references/lisk-elements/api-client/blocks.html">Blocks</a>
  </li>
  <li class="nav-item single-page" data-depth="4">
    <a class="nav-link" href="../references/lisk-elements/api-client/dapps.html">DApps</a>
  </li>
  <li class="nav-item single-page" data-depth="4">
    <a class="nav-link" href="../references/lisk-elements/api-client/delegates.html">Delegates</a>
  </li>
  <li class="nav-item single-page" data-depth="4">
    <a class="nav-link" href="../references/lisk-elements/api-client/node.html">Node</a>
  </li>
  <li class="nav-item single-page" data-depth="4">
    <a class="nav-link" href="../references/lisk-elements/api-client/peers.html">Peers</a>
  </li>
  <li class="nav-item single-page" data-depth="4">
    <a class="nav-link" href="../references/lisk-elements/api-client/transactions.html">Transactions</a>
  </li>
  <li class="nav-item single-page" data-depth="4">
    <a class="nav-link" href="../references/lisk-elements/api-client/voters.html">Voters</a>
  </li>
  <li class="nav-item single-page" data-depth="4">
    <a class="nav-link" href="../references/lisk-elements/api-client/votes.html">Votes</a>
  </li>
</ul>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../references/lisk-elements/bft.html">BFT</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../references/lisk-elements/chain.html">Chain</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../references/lisk-elements/client.html">Client</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../references/lisk-elements/constants.html">Constants</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../references/lisk-elements/cryptography.html">Cryptography</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../references/lisk-elements/dpos.html">DPoS</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../references/lisk-elements/p2p.html">P2P</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../references/lisk-elements/passphrase.html">Passphrase</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../references/lisk-elements/transaction-pool.html">Transaction pool</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../references/lisk-elements/transactions.html">Transactions</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../references/lisk-elements/validator.html">Validator</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../references/lisk-framework/index.html">Lisk Framework</a>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../references/config.html">Configuration</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Lisk SDK</span>
    <span class="version">5.0.0</span>
  </div>
  <ul class="components">
    <li class="component">
      <span class="title">Lisk Core</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../lisk-core/index.html">2.1.6 (latest)</a>
        </li>
        <li class="version">
          <a href="../../../lisk-core/3.0.0/index.html">3.0.0-beta.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Lisk docs manual</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../lisk-docs-manual/index.html">0.1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Lisk Protocol</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../lisk-protocol/index.html">5.0</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <span class="title">Lisk SDK</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../index.html">3.0.2 (latest)</a>
        </li>
        <li class="version is-current">
          <a href="../index.html">5.0.0</a>
        </li>
        <li class="version">
          <a href="../../4.0.0/index.html">4.0.0</a>
        </li>
        <li class="version">
          <a href="../../2.3.8/index.html">2.3.8</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Lisk Service</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../lisk-service/index.html">0.1.0 (latest)</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article main">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../index.html" title="Home" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Lisk SDK</a></li>
    <li>Explanations</li>
    <li><a href="modules.html">Modules</a></li>
  </ul>
</nav>
  <div class="page-versions toolbar-versions">
  <button class="version-menu-toggle" title="Show other versions of page">5.0.0</button>
  <div class="version-menu">
    <a class="version is-missing" href="../../index.html">3.0.2 (latest)</a>
    <a class="version is-current" href="modules.html">5.0.0</a>
    <a class="version is-missing" href="../../4.0.0/index.html">4.0.0</a>
    <a class="version is-missing" href="../../2.3.8/index.html">2.3.8</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/LiskHQ/lisk-docs/edit/769-framework/modules/ROOT/pages/explanations/modules.adoc"><i class="icofont-ui-edit"></i>Edit this Page</a></div>
  </div>
  <div class="content">
<article class="doc">
<h1 class="page">Lisk modules</h1>
<div class="sect1">
<h2 id="what-is-a-custom-module-and-a-custom-asset"><a class="anchor" href="#what-is-a-custom-module-and-a-custom-asset"></a>What is a custom module and a custom asset?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Custom modules bundle block processing logic and transaction processing logic together with a specific account schema.
Each custom module is separated based on the domain and data which the account schema contains.</p>
</div>
<div class="paragraph">
<p>They are responsible for the state machine part of the blockchain logic.
The state machine validates and updates the information on either account state or chain state.
Those state changes can be introduced through a block header or a transaction.</p>
</div>
<div class="paragraph">
<p>Each custom module defines its own data.
If a module is required to interact with other data which is managed by another module, it should communicate through the functions exposed by other modules.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="when-to-create-a-custom-module-custom-asset"><a class="anchor" href="#when-to-create-a-custom-module-custom-asset"></a>When to create a custom module / custom asset</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Custom module and custom asset are used to provide features to&#8230;&#8203;</p>
</div>
<div class="ulist">
<ul>
<li>
<p>define data stored in blockchain</p>
</li>
<li>
<p>define data sent through transaction asset</p>
</li>
<li>
<p>define logic which is executed per block</p>
</li>
<li>
<p>define logic which is executed per transaction</p>
</li>
<li>
<p>define logic which is executed per asset</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Also, all of the logic implemented using a custom module / asset must be “deterministic” and executable within block time.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="default-modules"><a class="anchor" href="#default-modules"></a>Default modules</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stripes-hover stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/LiskHQ/lisk-sdk/tree/v5.0.0-alpha.3/framework/src/modules/dpos" target="_blank" rel="noopener">DPoS module</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The DPoS module is responsible for handling all DPoS related logics.
Specifically:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Snapshotting vote weights</p>
</li>
<li>
<p>Calculating productivity</p>
</li>
<li>
<p>Handling registerDelegate, voteDelegate, unlockToken and reportDelegateMisbehavior transaction assets</p>
</li>
<li>
<p>Setting the next delegates set</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/LiskHQ/lisk-sdk/tree/v5.0.0-alpha.3/framework/src/modules/keys" target="_blank" rel="noopener">Keys module</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The Keys module handles all logic related to the signatures.</p>
</div>
<div class="paragraph">
<p>It should verify the signatures based on the multi-signature rules including non-multi-signature accounts.
It also handles the registration of multi-signature accounts.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/LiskHQ/lisk-sdk/tree/v5.0.0-alpha.3/framework/src/modules/sequence" target="_blank" rel="noopener">Sequence module</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The Sequence module handles all logic related to nonce.</p>
</div>
<div class="paragraph">
<p>It should verify the nonce for all transactions and increment if valid.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/LiskHQ/lisk-sdk/tree/v5.0.0-alpha.3/framework/src/modules/token" target="_blank" rel="noopener">Token module</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The Token module handles all logic related to balance.
Specifically:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Validating and subtracting fees for all transactions</p>
</li>
<li>
<p>Checking the minimum remaining balance requirement</p>
</li>
<li>
<p>Giving block rewards to the block generator</p>
</li>
<li>
<p>Transferring account balances</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="life-cycle-of-a-block"><a class="anchor" href="#life-cycle-of-a-block"></a>Life cycle of a block</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Receive block</p>
</li>
<li>
<p>Apply fork choice rule</p>
</li>
<li>
<p>Validate block</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Validate transactions</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Validate transaction</p>
</li>
<li>
<p><strong>Validate transaction asset</strong></p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Verify block header</p>
</li>
<li>
<p>Before block apply</p>
</li>
<li>
<p><strong>Apply block</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Apply transactions</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><strong>beforeTransactionApply</strong></p>
</li>
<li>
<p><strong>Apply asset</strong></p>
</li>
<li>
<p><strong>afterTransactionApply</strong></p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
<li>
<p><strong>After block apply</strong></p>
</li>
<li>
<p>Save block and updated states</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The <strong>bold</strong> steps are the steps exposed through the base module and base asset.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="how-to-create-custom-module-with-a-custom-asset"><a class="anchor" href="#how-to-create-custom-module-with-a-custom-asset"></a>How to create custom module with a custom asset</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The custom module and asset must extend the base module and base asset defined in the Lisk SDK.</p>
</div>
<div class="paragraph">
<p>The interfaces for <code>BaseModule</code> and <code>BaseAsset</code> are described in the <a href="../references/lisk-framework/index.html#the-basemodule" class="page">Lisk Framework reference</a>.</p>
</div>
<div class="paragraph">
<p>For a custom asset, the following properties are required:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>name</code> is used for UI purpose.</p>
</li>
<li>
<p><code>id</code> is used for <code>AssetID</code> to send a transaction.</p>
</li>
<li>
<p><code>schema</code> defines <code>asset</code> schema in a transaction.</p>
</li>
<li>
<p><code>apply</code> defines a state change induced by this asset.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">custom_asset.ts</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">interface Asset {
  Data: string;
}
export class CustomAsset extends BaseAsset {
  name = 'executeCustomAsset';
  id = 0;
  schema = {
    $id: '/customAsset',
    type: 'object',
    properties: {
      hello: {
        dataType: 'string',
        fieldNumber: 1,
      },
    },
  };

  validate(asset: K): void {
		if (!asset.hello || typeof asset.hello !== 'string' || asset.hello.length &gt; 64) {
			throw new InvalidTransactionError(
                'Invalid "asset.hello" defined on transaction',
                asset.id,
                '.asset.hello',
                asset.hello,
                'A string value no longer than 64 characters',
            );
		}
  };

  async apply({ asset, stateStore, reducerHandler, transaction }) {
    const senderAddress = transaction.senderAddress;
    const senderAccount = await stateStore.account.get(senderAddress);

    if (senderAccount.asset &amp;&amp; senderAccount.asset.hello) {
        throw new InvalidTransactionError(
            'You cannot send a hello transaction multiple times',
            transaction.id
        );
    } else {
        sender.asset = { hello: this.asset.hello };
        store.account.set(sender.address, sender);
    }

    const senderBalance = await reducerHandler.invoke("token:getBalance", {
      address: senderAddress,
    });
    const minRemainingBalance = await reducerHandler.invoke(
      "token:getMinRemainingBalance"
    );

    if (asset.initValue &lt; minRemainingBalance) {
      throw new Error("NFT init value is too low.");
    }

    if (senderBalance &lt; asset.initValue + minRemainingBalance) {
      throw new Error("Sender balance is not enough to create an NFT");
    }

    const nftToken = createNFTToken({
      ownerAddress: senderAddress,
      nonce: transaction.nonce,
      value: asset.initValue,
      minPurchaseMargin: asset.minPurchaseMargin,
    });

    senderAccount.nft.ownNFTs.push(nftToken.id);
    await stateStore.account.set(senderAddress, senderAccount);

    await reducerHandler.invoke("token:debit", {
      address: senderAddress,
      amount: asset.initValue,
    });

    const allTokens = await getAllNFTTokens(stateStore);
    allTokens.push(nftToken);
    await setAllNFTTokens(stateStore, allTokens);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>For a custom module, the following properties are required:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>name</code> will be used for a key for the account schema if defined.</p>
</li>
<li>
<p><code>id</code> will be used for a fieldNumber for the account schema, and for a <code>moduleID</code> to send a transaction with <code>CustomAsset</code>.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">custom_module.ts</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-typescript hljs" data-lang="typescript">import { CustomAsset } from './custom_asset';
import {
	TransactionApplyContext,
	AfterBlockApplyContext,
	BeforeBlockApplyContext,
	AfterGenesisBlockApplyContext,
} from '../types';

export class CustomModule extends BaseModule {
  name = 'customModule';
  id = 1001;
  accountSchema = {
    type: 'object',
    properties: {
      latestData: {
        fieldNumber: 1,
        dataType: 'string',
      },
    },
    default: {
      latestData: 'initial data',
    },
  };
  transactionAssets: [new CustomAsset()];
  actions = {
    someAction: async () =&gt; {
        return this.id
    },
  };
  events = ['someEvent','anotherEvent'];
  reducers = {};
  beforeTransactionApply(context: TransactionApplyContext): Promise&lt;void&gt; {
    // Code in here is applied before a transaction is applied.
    this._channel.publish();
  };
  afterTransactionApply(context: TransactionApplyContext): Promise&lt;void&gt; {
    // Code in here is applied after a transaction is applied.
  };
  afterGenesisBlockApply(context: AfterGenesisBlockApplyContext): Promise&lt;void&gt; {
    // Code in here is applied after a genesis block is applied.
  };
  beforeBlockApply(context: BeforeBlockApplyContext): Promise&lt;void&gt; {
    // Code in here is applied before a block is applied.
  }
  afterBlockApply(context: AfterBlockApplyContext): Promise&lt;void&gt; {
    // Code in here is applied after a block is applied.
  }
}</code></pre>
</div>
</div>
</div>
</div>
    <div class="bottom-links">
    <div>
      <a class="bottom-link" href="/documentation/lisk-sdk/v5/explanations/framework.html"><i class="icofont-double-left icofont-3x"></i>The Lisk Framework
    </a>
    </div><div>
      <a class="bottom-link" href="/documentation/lisk-sdk/v5/explanations/plugins.html">Plugins<i class="icofont-double-right icofont-3x"></i>
      </a>
    </div>
  </div>






<!--{]> pagination}}-->
</article>
<aside class="article-aside hidden" role="navigation">
</aside>


<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
  </div>
</div>
<footer class="footer">
    <div class="footer__container">
        <div class="footer__copyright">
            <div class="institutional-links-2">
                <span class="institutional-links-2__item">© 2020 Lisk Foundation</span>
              <ul class="footer-links">
                <li><a class="institutional-links-2__item" href="https://lisk.io/terms-conditions" class="institutional-links-2-item">Terms & Conditions</a></li>
                <li><a class="institutional-links-2__item" href="https://lisk.io/privacy" class="institutional-links-2-item">Privacy Policy</a></li>
                <li><a class="institutional-links-2__item" href="https://lisk.io/contact" class="institutional-links-2-item">Contact</a></li>
              </ul>
            </div>
            <p class="footer__copyright-text">Lisk is a foundation registered in Zug, Switzerland
            </p>
        </div>
        <div class="footer__logo-container">
            <img src="../../../_/img/lisk-logo-light.svg" class="footer__lisk-logo"/>
        </div>
        <div class="community-section">
            <p class="community-section__text">Follow Lisk on: </p>
            <div class="community-section__icons">
                <a href="https://github.com/LiskHQ" title="GitHub" target="_blank" class="footer__icon icon-github"></a>
                <a href="https://twitter.com/LiskHQ" title="Twitter" target="_blank" class="footer__icon icon-twitter"></a>
                <a href="https://lisk.chat" title="Discord" target="_blank" class="footer__icon icon-discord"></a>
                <a href="https://www.reddit.com/r/Lisk/" title="Reddit" target="_blank" class="footer__icon icon-reddit"></a>
            </div>
        </div>
    </div>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script async src="../../../_/js/vendor/tabs-block-behaviour.js"></script>
<script async src="../../../_/js/vendor/top-versions.js"></script>
<script async src="../../../_/js/vendor/custom.js"></script>
  <script src="../../../_/js/vendor/docsearch.min.js"></script>
  <!-- fetched from https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js -->
  <script>
    function focusSearchInput () { document.querySelector('#search-input').focus() }
    var search = docsearch({
        appId: 'C4SU57KGV9',
      apiKey: '55aa8709b04eb62f08f87571cf77547c',
      indexName: 'lisk-docs-search',
      inputSelector: '#search-input',
      autocompleteOptions: { hint: false, keyboardShortcuts: ['s'] },
      algoliaOptions: { hitsPerPage: 10 }
    }).autocomplete
    search.on('autocomplete:closed', function () { search.autocomplete.setVal() })
    focusSearchInput()
    window.addEventListener('load', focusSearchInput)
  </script>

  </body>
</html>
