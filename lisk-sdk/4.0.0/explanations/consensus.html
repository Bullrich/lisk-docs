<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Consensus in Lisk - Lisk  SDK  Docs</title>
    <link rel="canonical" href="https://lisk.io/documentation/lisk-sdk/4.0.0/explanations/consensus.html">
    <meta name="description" content="This section provides an overview of the main guides in chronological order, together with an example using the &#x27;Hello World&#x27; App.">
    <meta name="generator" content="Antora 2.3.1">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <link rel="stylesheet" href="../../../_/css/site-extra.css">
      <link rel="stylesheet" href="../../../_/css/vendor/docsearch.min.css">
      <!-- fetched from https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css -->
<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<link rel="icon" href="../../../_/img/favicon.png" type="image/x-icon">
  </head>
  <body class="article">
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NKNKGHL');</script>
<!-- End Google Tag Manager -->
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NKNKGHL"
                  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

<header class="header">
  <nav class="navbar">
      <div class="navbar-content">
        <div class="navbar-brand">
          <a href="https://lisk.io" title="Lisk.io" class="lisk-logo"></a>
            <span  class="nav-brand__name-area">
              <strong class="nav-brand__name-area__title">SDK</strong>
                        </span>
          <div class="top-versions page-versions">
  <button class="version-menu-toggle top-version-menu-toggle" title="Show other versions of page">4.0.0</button>
  <div class="version-menu">
    <a class="version is-missing" href="../../index.html">3.0.2 (latest)</a>
    <a class="version is-current" href="consensus.html">4.0.0</a>
    <a class="version is-missing" href="../../2.3.8/index.html">2.3.8</a>
  </div>
</div>
          <button class="navbar-burger" data-target="topbar-nav">
            <span></span>
            <span></span>
            <span></span>
          </button>
        </div>
        <div id="topbar-nav" class="navbar-menu">
          <div class="navbar-end">
            <div class="navbar-item has-dropdown is-hoverable">
              <a class="navbar-link" href="">Documentations</a>
              <div class="navbar-dropdown">
                <a class="navbar-item" href="https://lisk.io/documentation/lisk-protocol/">Lisk Protocol</a>
                <a class="navbar-item" href="https://lisk.io/documentation/lisk-sdk/">Lisk SDK</a>
                <a class="navbar-item" href="https://lisk.io/documentation/lisk-service/">Lisk Service</a>
                <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/">Lisk Core</a>
              </div>
            </div>
            <div class="navbar-item has-dropdown is-hoverable">
              <a class="navbar-link" href="">Resources</a>
              <div class="navbar-dropdown">
                <a class="navbar-item" href=""><strong>Lisk Service API</strong></a>
                <a class="navbar-item" href="https://lisk.io/documentation/lisk-service/references/api.html">Mainnet</a>
                <a class="navbar-item" href=""><strong>Lisk Core API</strong></a>
                <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/3.0.0/reference/api.html">Betanet</a>
                <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/reference/api.html">Testnet</a>
                <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/reference/api-mainnet.html">Mainnet</a>
                <hr class="navbar-divider">
                <a class="navbar-item" href=""><strong>Lisk Network Explorer</strong></a>
                <a class="navbar-item" target="_blank" href="https://betanet-explorer.lisk.io/">Betanet<i class="icofont-external-link"></i></a>
                <a class="navbar-item" target="_blank" href="https://testnet-explorer.lisk.io/">Testnet<i class="icofont-external-link"></i></a>
                <a class="navbar-item" target="_blank" href="https://explorer.lisk.io/">Mainnet<i class="icofont-external-link"></i></a>
              </div>
            </div>
          </div>
            <div class="navbar-menu search-box hide-for-print">
              <input id="search-input" type="text" placeholder="Search">
            </div>
        </div>
        <div class="navbar-item navbar-right">
<!--
          <a href="https://lisk.chat" title="Lisk Chat" target="_blank" class="footer__icon icon-discord-2x"></a>
-->
          <a href="https://github.com/LiskHQ" title="Lisk GitHub" target="_blank" class="footer__icon icon-github-2x"></a>
          <span class="control">
            <a class="button is-primary" target="_blank" title="Lisk Dev Forum" href="https://dev.lisk.io/">Get help</a>
          </span>
        </div>
      </div>
  </nav>
</header>
<div class="body-container">
  <div class="body">
<div class="nav-container" data-component="lisk-sdk" data-version="4.0.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Lisk SDK</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="1">
    <a class="nav-link" href="../setup.html">Prerequisites</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Explanations</span>
<ul class="nav-list">
  <li class="nav-item is-current-page single-page" data-depth="2">
    <a class="nav-link" href="consensus.html">Consensus in Lisk</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../guides/index.html">Guides</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Application development</span>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../guides/app-development/configuration.html">Configure a blockchain application</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../guides/app-development/custom-transactions.html">Create a custom transaction</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../guides/app-development/test-transaction.html">Test a transaction</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../guides/app-development/interact-with-api.html">Interact with the API</a>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="4">
    <a class="nav-link" href="../guides/app-development/broadcast.html">Broadcast a transaction</a>
  </li>
</ul>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../guides/app-development/frontend.html">Connect a frontend</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../guides/app-development/launch.html">Launch a blockchain application</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Node management</span>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../guides/node-management/forging.html">Enable forging</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../guides/node-management/api-access.html">API access</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../guides/node-management/enable-ssl.html">Enable SSL</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../guides/node-management/logging.html">Logging</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../tutorials/index.html">Tutorials</a>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../tutorials/hello-world.html">Hello World</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../tutorials/supply-chain/index.html">Supply Chain</a>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../tutorials/supply-chain/part1.html">Part 1: Installation &amp; setup</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../tutorials/supply-chain/part2.html">Part 2: Track a packet on the blockchain</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../tutorials/supply-chain/part3.html">Part 3: A simple supply chain management system</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../tutorials/supply-chain/part4.html">Part 4: How to publish the application</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../references/index.html">References</a>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../references/api-specification.html">API specification</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../references/config.html">Configuration</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../references/changelog.html">ChangeLog 3.x to 4.x</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../references/lisk-commander/index.html">Lisk Commander</a>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../references/lisk-commander/commands.html">Commands</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../references/lisk-commander/lisk-core-commands.html">Lisk Core commands</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../references/lisk-commander/sensitive-inputs.html">Sensitive inputs</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../references/lisk-elements/index.html">Lisk Elements</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../references/lisk-elements/api-client.html">API client</a>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="4">
    <a class="nav-link" href="../references/lisk-elements/api-client/accounts.html">Accounts</a>
  </li>
  <li class="nav-item single-page" data-depth="4">
    <a class="nav-link" href="../references/lisk-elements/api-client/blocks.html">Blocks</a>
  </li>
  <li class="nav-item single-page" data-depth="4">
    <a class="nav-link" href="../references/lisk-elements/api-client/dapps.html">DApps</a>
  </li>
  <li class="nav-item single-page" data-depth="4">
    <a class="nav-link" href="../references/lisk-elements/api-client/delegates.html">Delegates</a>
  </li>
  <li class="nav-item single-page" data-depth="4">
    <a class="nav-link" href="../references/lisk-elements/api-client/node.html">Node</a>
  </li>
  <li class="nav-item single-page" data-depth="4">
    <a class="nav-link" href="../references/lisk-elements/api-client/peers.html">Peers</a>
  </li>
  <li class="nav-item single-page" data-depth="4">
    <a class="nav-link" href="../references/lisk-elements/api-client/transactions.html">Transactions</a>
  </li>
  <li class="nav-item single-page" data-depth="4">
    <a class="nav-link" href="../references/lisk-elements/api-client/voters.html">Voters</a>
  </li>
  <li class="nav-item single-page" data-depth="4">
    <a class="nav-link" href="../references/lisk-elements/api-client/votes.html">Votes</a>
  </li>
</ul>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../references/lisk-elements/bft.html">BFT</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../references/lisk-elements/chain.html">Chain</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../references/lisk-elements/client.html">Client</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../references/lisk-elements/constants.html">Constants</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../references/lisk-elements/cryptography.html">Cryptography</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../references/lisk-elements/dpos.html">DPoS</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../references/lisk-elements/p2p.html">P2P</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../references/lisk-elements/passphrase.html">Passphrase</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../references/lisk-elements/transaction-pool.html">Transaction pool</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../references/lisk-elements/transactions.html">Transactions</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../references/lisk-elements/validator.html">Validator</a>
  </li>
</ul>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../references/lisk-framework/index.html">Lisk Framework</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Lisk SDK</span>
    <span class="version">4.0.0</span>
  </div>
  <ul class="components">
    <li class="component">
      <span class="title">Lisk Core</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../lisk-core/index.html">2.1.6 (latest)</a>
        </li>
        <li class="version">
          <a href="../../../lisk-core/3.0.0/index.html">3.0.0-beta.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Lisk Protocol</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../lisk-protocol/index.html">5.0</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <span class="title">Lisk SDK</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../index.html">3.0.2 (latest)</a>
        </li>
        <li class="version is-current">
          <a href="../index.html">4.0.0</a>
        </li>
        <li class="version">
          <a href="../../2.3.8/index.html">2.3.8</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Lisk Service</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../lisk-service/index.html">0.1.0 (latest)</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article main">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../index.html" title="Home" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Lisk SDK</a></li>
    <li>Explanations</li>
    <li><a href="consensus.html">Consensus in Lisk</a></li>
  </ul>
</nav>
  <div class="page-versions toolbar-versions">
  <button class="version-menu-toggle" title="Show other versions of page">4.0.0</button>
  <div class="version-menu">
    <a class="version is-missing" href="../../index.html">3.0.2 (latest)</a>
    <a class="version is-current" href="consensus.html">4.0.0</a>
    <a class="version is-missing" href="../../2.3.8/index.html">2.3.8</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/LiskHQ/lisk-docs/edit/736-polishing/modules/ROOT/pages/explanations/consensus.adoc"><i class="icofont-ui-edit"></i>Edit this Page</a></div>
  </div>
  <div class="content">
<article class="doc">
<h1 class="page">Consensus in Lisk</h1>
<div class="sect1">
<h2 id="dpos"><a class="anchor" href="#dpos"></a>Delegated Proof of Stake (DPoS)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Lisk SDK bootstraps a blockchain network that is based on the <a href="../../../lisk-protocol/consensus-algorithm.html#dpos" class="page">DPoS</a> consensus algorithm.</p>
</div>
<div class="paragraph">
<p>DPoS is related to the <a href="https://en.wikipedia.org/wiki/Proof_of_stake" target="_blank" rel="noopener">Proof of Stake (PoS)</a> consensus algorithm.
In PoS-based blockchains the creator of the next block is chosen via a selection mechanism that is related to the stake that an individual account holds.
In this regard, a higher stake generally means there is an increased chance to forge a new block to the blockchain.</p>
</div>
<div class="paragraph">
<p>In DPoS based blockchains, the consensus regarding who can forge the next block is reached by users who vote with their stake for other users.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The DPoS used by Lisk is in fact more of a middle ground between PoS and DPoS, as it also requires delegates to hold and lock a certain amount of tokens in their account.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In order to receive votes from other users, a user needs to register their account as <a href="#register">delegate</a>.</p>
</div>
<div class="sect2">
<h3 id="forging"><a class="anchor" href="#forging"></a>Forging</h3>
<div class="paragraph">
<p>The process of adding new blocks to a blockchain that uses the PoS or DPoS consensus algorithm is called forging.</p>
</div>
<div class="paragraph">
<p>In a DPoS system, each account that has an adequate enough balance to send a <a href="../../../lisk-protocol/transactions.html#delegate" class="page">register delegate transaction</a> can <a href="#register">register a new delegate</a> on the network.
Delegates need to increase their <a href="#weight">delegate weight</a> by receiving votes from other accounts in order to reach forging positions.
Other accounts can <a href="#vote">vote for delegates</a> by sending a <a href="../../../lisk-protocol/transactions.html#vote" class="page">delegate vote transaction</a>.
As a reward for securing the network, the forging delegates receive the <a href="../../../lisk-protocol/blocks.html#rewards_and_fees" class="page">transaction fees and block rewards</a> of the forged blocks and their included transactions.</p>
</div>
<div class="paragraph">
<p>The process of forging consumes a minimal amount of energy and is therefore an extremely <strong>energy-friendly</strong> consensus algorithm as compared to "mining", which is the analog process for blockchains that run with Proof of Work (PoW).</p>
</div>
<div class="paragraph">
<p>The 101 delegates with the highest <a href="#weight">delegate weight</a> and 2 additional standby delegates are selected to forge during a forging round.
During a forging round, delegates forge blocks one after another in a designated order.
The order in which the selected delegates forge new blocks is a random process and is not connected to the delegate weight.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>During a forging round, no new calculations are required which makes the process highly efficient.
This technique enables a very energy efficient process of adding new blocks, which allows forging nodes to run even on machines with very limited processing capabilities, such as a Raspberry Pi.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="literalblock">
<div class="content">
<pre>101(amount of the forging delegates) + 2(random standby delegates) = 103(Number of blocks of a forging round)</pre>
</div>
</div>
<div class="paragraph">
<p>After a forging round is completed, the delegate selection process starts again and assigns the delegates to their forging positions.</p>
</div>
<div class="paragraph">
<p>More information about the delegate selection mechanism can be found in the <a href="../../../lisk-protocol/consensus-algorithm.html#delegate_selection" class="page">Lisk Protocol</a>.</p>
</div>
<div class="sect3">
<h4 id="weight"><a class="anchor" href="#weight"></a>Delegate weight</h4>
<div class="paragraph">
<p>The delegate weight is defined as shown below:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>delegate weight = minimum { 10 * delegate self-vote , sum of all votes for the delegate }</pre>
</div>
</div>
<div class="paragraph">
<p>Where <code>delegate self-vote</code> is the amount the delegate voted for its own account.
Note that the <code>sum of all votes for the delegate</code> includes the self-votes.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="register"><a class="anchor" href="#register"></a>Registering as delegate</h3>
<div class="paragraph">
<p>All accounts in the network can register as a delegate by sending a delegate registration transaction.</p>
</div>
<div class="paragraph">
<p>The chosen delegate name has to be unique in the network.
Once an account is registered as a delegate, it is possible for other accounts in the network to vote for this delegate.</p>
</div>
<div class="listingblock">
<div class="title">Example: Creating a delegate registration transaction</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">const tx =  new transactions.DelegateTransaction({
    asset:{
        username: 'myDelegateName'
    },
    nonce: '1',
    fee: '1500000000'
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>More information about enabling and disabling forging on a node can be found in the <a href="../guides/node-management/forging.html" class="page">Enable forging giude</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="vote"><a class="anchor" href="#vote"></a>Voting for a delegate</h3>
<div class="paragraph">
<p>Accounts can vote for delegates by locking tokens in their account.
After unvoting a delegate the locked tokens can be unlocked again through the unlock transaction.</p>
</div>
<div class="paragraph">
<p>For instance, lets assume you hold an account with a balance of 100 tokens.</p>
</div>
<div class="paragraph">
<p>You could use only a part of your tokens for voting, but let&#8217;s assume you want to vote with all 100.
It is of course possible to split your tokens among multiple delegates, or to use all of them to vote for only one delegate.
For example you could use it to vote for 10 delegates with 10 tokens, or alternatively just on one delegate with the full 100 tokens.</p>
</div>
<div class="paragraph">
<p>In the example below we decide to vote for one delegate with 70 tokens, and for another one with 30 tokens.</p>
</div>
<div class="listingblock">
<div class="title">Example: Vote for two delegates</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">const tx = new transactions.VoteTransaction({
    asset:{
        votes: [
            { delegateAddress:'11750255083444888021L', amount: '7000000000'}, <i class="conum" data-value="1"></i><b>(1)</b>
            { delegateAddress:'64373847834494888026L', amount: '3000000000'} <i class="conum" data-value="2"></i><b>(2)</b>
        ]
    }
});</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Locks 70 tokens and adds 70 tokens delegate weight to the delegate with address <code>11750255083444888021L</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Locks 30 tokens and adds 30 tokens delegate weight to the delegate with address <code>64373847834494888026L</code>.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="unlock"><a class="anchor" href="#unlock"></a>Unvoting delegates and unlocking of tokens</h3>
<div class="paragraph">
<p>The amount of tokens used for voting is locked and cannot be used for any other transactions.
This includes but is not limited to balance transfers, further voting or fees.</p>
</div>
<div class="paragraph">
<p>To use those tokens, the account has to submit a <a href="../../../lisk-protocol/transactions.html#vote" class="page">delegate vote transaction</a>, with a negative amount (also called “unvote”).
This will start the unlocking procedure and the LSK will be ready for unlocking 2000 blocks later (roughly 5 hours and 30 minutes).</p>
</div>
<div class="paragraph">
<p>To recover the locked tokens, the account has to submit two transactions.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>First, the tokens have to be unvoted.
This is done with a new <code>VoteTransaction</code>, the transaction just needs to contain a negative amount.
The tokens are now in an “unlocking” state.
They have been unvoted but are not usable yet.</p>
<div class="listingblock">
<div class="title">Example: Unvote a delegate</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">const tx = new transactions.VoteTransaction({
    asset:{
        votes: [
            { delegateAddress:'64373847834494888026L', amount: '-1500000000'} // 15 tokens can be unlocked in 2000 blocks
        ]
    },
    nonce: '2',
    fee: '250000'
});</code></pre>
</div>
</div>
</li>
<li>
<p>After a 2000 block period, the tokens can be unlocked.
This is done with a new <code>UnlockTransaction</code>.
The <a href="../../../lisk-protocol/transactions.html#unlock" class="page">token unlock transaction</a> specifies which tokens have to be unlocked and added back to the balance.
This mechanism is necessary to allow blocks to be reverted.
Future improvements of the Lisk blockchain (particularly on the database level), could render this unlock transaction unnecessary.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">const tx = new transactions.UnlockTransaction({
    asset:{
        unlockingObjects:[
            { delegateAddress:'64373847834494888026L', amount: '1500000000', unvoteHeight: '1234' }
        ]
    },
    nonce: '3',
    fee: '250000'
});</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="_an_unlock_transaction_can_contain_multiple_unlock_objects"><a class="anchor" href="#_an_unlock_transaction_can_contain_multiple_unlock_objects"></a>An unlock transaction can contain multiple unlock objects</h4>
<div class="paragraph">
<p>This allows an account to submit multiple delegate votes and recover those tokens with a single unlock transaction.
Of course, all tokens must have been in the unlocking state for at least 2000 blocks for the unlock to be valid.</p>
</div>
</div>
</div>
</div>
</div>
    <div class="bottom-links">
    <div>
      <a class="bottom-link" href="/documentation/lisk-sdk/4.0.0/setup.html"><i class="icofont-double-left icofont-3x"></i>Prerequisites
    </a>
    </div><div>
      <a class="bottom-link" href="/documentation/lisk-sdk/4.0.0/guides/index.html">Guides<i class="icofont-double-right icofont-3x"></i>
      </a>
    </div>
  </div>






<!--{]> pagination}}-->
</article>
<aside class="article-aside hidden" role="navigation">
</aside>


<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
  </div>
</div>
<footer class="footer">
    <div class="footer__container">
        <div class="footer__copyright">
            <div class="institutional-links-2">
                <span class="institutional-links-2__item">© 2020 Lisk Foundation</span>
              <ul class="footer-links">
                <li><a class="institutional-links-2__item" href="https://lisk.io/terms-conditions" class="institutional-links-2-item">Terms & Conditions</a></li>
                <li><a class="institutional-links-2__item" href="https://lisk.io/privacy" class="institutional-links-2-item">Privacy Policy</a></li>
                <li><a class="institutional-links-2__item" href="https://lisk.io/contact" class="institutional-links-2-item">Contact</a></li>
              </ul>
            </div>
            <p class="footer__copyright-text">Lisk is a foundation registered in Zug, Switzerland
            </p>
        </div>
        <div class="footer__logo-container">
            <img src="../../../_/img/lisk-logo-light.svg" class="footer__lisk-logo"/>
        </div>
        <div class="community-section">
            <p class="community-section__text">Follow Lisk on: </p>
            <div class="community-section__icons">
                <a href="https://github.com/LiskHQ" title="GitHub" target="_blank" class="footer__icon icon-github"></a>
                <a href="https://twitter.com/LiskHQ" title="Twitter" target="_blank" class="footer__icon icon-twitter"></a>
                <a href="https://lisk.chat" title="Discord" target="_blank" class="footer__icon icon-discord"></a>
                <a href="https://www.reddit.com/r/Lisk/" title="Reddit" target="_blank" class="footer__icon icon-reddit"></a>
            </div>
        </div>
    </div>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script async src="../../../_/js/vendor/tabs-block-behaviour.js"></script>
<script async src="../../../_/js/vendor/top-versions.js"></script>
<script async src="../../../_/js/vendor/custom.js"></script>
  <script src="../../../_/js/vendor/docsearch.min.js"></script>
  <!-- fetched from https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js -->
  <script>
    function focusSearchInput () { document.querySelector('#search-input').focus() }
    var search = docsearch({
        appId: 'C4SU57KGV9',
      apiKey: '55aa8709b04eb62f08f87571cf77547c',
      indexName: 'lisk-docs-search',
      inputSelector: '#search-input',
      autocompleteOptions: { hint: false, keyboardShortcuts: ['s'] },
      algoliaOptions: { hitsPerPage: 10 }
    }).autocomplete
    search.on('autocomplete:closed', function () { search.autocomplete.setVal() })
    focusSearchInput()
    window.addEventListener('load', focusSearchInput)
  </script>

  </body>
</html>
