<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Lisk Core Troubleshooting :: Docs</title>
    <link rel="canonical" href="https://lisk.io/documentation/lisk-core/troubleshooting.html">
    <meta name="description" content="The Lisk Documentation comprises guides, tutorials, technical references and in-depth explanations about the Lisk SDK, Lisk Core and the Lisk Protocol.">
    <meta name="generator" content="Antora 2.2.0">
    <link rel="stylesheet" href="../_/css/site.css">
    <link rel="stylesheet" href="../_/css/site-extra.css">
    <link rel="icon" href="../favicon.ico" type="image/x-icon">
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
    <!--
    <link href="https://unpkg.com/primer/build/build.css" rel="stylesheet">
-->
<link rel="icon" href="/sites/default/files/favicons/favicon-32x32.png" type="image/png">
  </head>
  <body class="article">
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NKNKGHL');</script>
<!-- End Google Tag Manager -->
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NKNKGHL"
                  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

<header class="header">
  <nav class="navbar">
      <div class="navbar-content">
        <div class="navbar-brand">
          <a href="https://lisk.io/documentation" class="lisk-logo"></a>
            <span  class="nav-brand__name-area">
              <strong class="nav-brand__name-area__title">SDK Docs</strong>
                          </span>
          <button class="navbar-burger" data-target="topbar-nav">
            <span></span>
            <span></span>
            <span></span>
          </button>
        </div>
        <div id="topbar-nav" class="navbar-menu">
          <div class="navbar-end">
            <div class="navbar-item has-dropdown is-hoverable">
              <a class="navbar-link" href="#">Docs</a>
              <div class="navbar-dropdown">
                <a class="navbar-item" href="https://lisk.io/documentation/lisk-sdk/">Lisk SDK</a>
                <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/">Lisk Core</a>
              </div>
            </div>
              <div class="navbar-item has-dropdown is-hoverable">
                <a class="navbar-link" href="https://lisk.io/documentation/lisk-sdk/tutorials/index.html">Tutorials</a>
                <div class="navbar-dropdown">
                  <a class="navbar-item" href="https://lisk.io/documentation/lisk-sdk/tutorials/hello-world.html"><strong>Hello World</strong>: Build a blockchain application 101</a>
                  <a class="navbar-item" href="https://lisk.io/documentation/lisk-sdk/tutorials/cashback.html"><strong>Cashback</strong>: How to extend from another transaction type</a>
                  <a class="navbar-item" href="https://lisk.io/documentation/lisk-sdk/tutorials/transport.html"><strong>Transport</strong>: How to connect IoT devices to the network</a>
                </div>
              </div>
              <div class="navbar-item has-dropdown is-hoverable">
                <a class="navbar-link" href="#">Reference</a>
                <div class="navbar-dropdown">
                  <a class="navbar-item" href="https://lisk.io/documentation/lisk-sdk/lisk-elements/packages.html">Lisk Elements</a>
                  <a class="navbar-item" href="https://lisk.io/documentation/lisk-sdk/lisk-commander/user-guide.html">Lisk Commander</a>
                  <a class="navbar-item" href="https://lisk.io/documentation/lisk-sdk/lisk-framework">Lisk Framework</a>
                </div>
              </div>
              <div class="navbar-item has-dropdown is-hoverable">
                <a class="navbar-link" href="#">Resources</a>
                <div class="navbar-dropdown">
                  <a class="navbar-item" href="https://lisk.io/roadmap"><i class="icofont-map-pins"></i>Roadmap</a>
                  <a class="navbar-item" href="https://lisk.io/research"><i class="icofont-laboratory"></i>Research</a>
                  <a class="navbar-item" href="https://lisk.io/blog"><i class="icofont-paper"></i>Blog</a>
                  <a class="navbar-item" href="https://lisk.io/apps"><i class="icofont-dashboard-web"></i>Blockchain Apps List</a>
                  <a class="navbar-item" href="https://lisk.io/builders-program"><i class="icofont-worker"></i>Lisk Builders Program</a>
                  <a class="navbar-item" href="https://lisk.io/community"><i class="icofont-people"></i>Community</a>
                </div>
              </div>
              <div class="navbar-item has-dropdown is-hoverable">
                <a class="navbar-link" href="#">Github</a>
                <div class="navbar-dropdown">
                  <a class="navbar-item" target="_blank" href="https://github.com/LiskHQ/lisk-sdk">Lisk SDK<i class="icofont-external-link"></i></a>
                  <a class="navbar-item" target="_blank" href="https://github.com/LiskHQ/lisk-core">Lisk Core <i class="icofont-external-link"></i></a>
                  <a class="navbar-item" target="_blank" href="https://github.com/LiskHQ/lisk-sdk-examples">Example Applications <i class="icofont-external-link"></i></a>
                </div>
              </div>
                      </div>
        </div>
      </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="lisk-core" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">Lisk Core</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="index.html"><strong>Overview</strong></a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text"><strong>Getting Started</strong></span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="getting-started/maintain-a-node.html">Run your own node</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="getting-started/interact-with-network.html">Interact with the network</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text"><strong>Setup</strong></span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="setup/binary.html">Binary Installation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="setup/commander.html">Commander Installation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="setup/docker.html">Docker Installation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="setup/source.html">Source Installation</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text"><strong>Upgrade</strong></span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="upgrade/binary.html">Binary Upgrade</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="upgrade/commander.html">Commander Upgrade</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="upgrade/docker.html">Docker Upgrade</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="upgrade/source.html">Source Upgrade</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text"><strong>Administration</strong></span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="administration/binary.html">Binary Administration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="administration/commander.html">Commander Administration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="administration/docker.html">Docker Administration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="administration/source.html">Source Administration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text"><strong>API</strong></span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="api.html">Testnet</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="api-mainnet.html">Mainnet</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="configuration.html">Configuration</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="migration.html">Migration</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="monitoring.html">Monitoring</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="troubleshooting.html">Troubleshooting</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Lisk Core</span>
    <span class="version">2.1.3 (latest)</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Lisk Core</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">2.1.3 (latest)</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Lisk SDK</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../lisk-sdk/index.html">2.3.6 (latest)</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main>
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../lisk-sdk/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Lisk Core</a></li>
    <li><a href="troubleshooting.html">Troubleshooting</a></li>
  </ul>
</nav>
<button class="toc-toggle"></button>
  <div class="edit-this-page"><a href="https://github.com/LiskHQ/lisk-docs/edit/docs-core/modules/ROOT/pages/troubleshooting.adoc">Edit this Page</a></div>
  </div>
<article class="doc">
<h1 class="page">Lisk Core Troubleshooting</h1>
<div class="sect1">
<h2 id="_setup"><a class="anchor" href="#_setup"></a>Setup</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_a_process_is_already_listening_on_port_5432_binary"><a class="anchor" href="#_a_process_is_already_listening_on_port_5432_binary"></a>A process is already listening on port 5432 (Binary)</h3>
<div class="sect3">
<h4 id="_problem"><a class="anchor" href="#_problem"></a>Problem:</h4>
<div class="paragraph">
<p>After running <code>installLisk.sh</code>, the installation script is aborted
with the following output:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Error: A process is already listening on port 5432
PostgreSQL by default listens on 127.0.0.1:5432 and attempting to run two instances at the same time will result in this installation failing
To proceed anyway, use the -i flag to ignore the warning.</pre>
</div>
</div>
<div class="paragraph">
<p>PostgreSQL is already installed on your system and listening to the
PostgreSQL default port 5432. This can happen e.g. when a second Lisk
Core node is installed on the same server.</p>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset1_solution-1"></a>Solution 1</p>
</li>
<li>
<p><a id="tabset1_solution-2"></a>Solution 2</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset1_solution-1">
<div class="paragraph">
<p>If postgreSQL has been installed globally on the system, disable it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sudo systemctl stop postgresql
sudo systemctl disable postgresql</code></pre>
</div>
</div>
<div class="paragraph">
<p>Possible data inside of databases remains stored in this case.</p>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset1_solution-2">
<div class="paragraph">
<p>If postgreSQL has been installed globally on the system and the data in
it is not needed anymore, simply remove the already installed postgreSQL
by running the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sudo apt-get --purge remove postgresql postgresql-doc postgresql-common</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_role_lisk_does_not_exist_source"><a class="anchor" href="#_role_lisk_does_not_exist_source"></a>Role lisk does not exist (Source)</h3>
<div class="sect3">
<h4 id="_problem_2"><a class="anchor" href="#_problem_2"></a>Problem:</h4>
<div class="paragraph">
<p>Starting the Lisk node fails with error:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>error: role "lisk" does not exist</pre>
</div>
</div>
<div class="paragraph">
<p>Lisk Core expects a Postgres user called <code>lisk</code> exists on the system and has the rights to create a database.
This user is specified in <code>config.json</code>.
If the user is not present on the system, the above error will be thrown.</p>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset2_solution-1---create-lisk-user"></a>Solution 1 - create lisk user</p>
</li>
<li>
<p><a id="tabset2_solution-2---change-db-user-from-lisk-to-custom-username"></a>Solution 2 - change db.user from lisk to custom username</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset2_solution-1---create-lisk-user">
<div class="paragraph">
<p>Create a Postgres user with name <code>lisk</code> and grant it the right to create databases.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">  sudo -u postgres createuser --createdb lisk</code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset2_solution-2---change-db-user-from-lisk-to-custom-username">
<div class="paragraph">
<p>Edit <a href="configuration.html" class="page"><code>config.json</code></a> and replace the value <code>lisk</code> in <code>db.user</code> with an alternative Postgres username on the system, that has the right to create databases.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_nothing_shown_in_the_console_after_starting_lisk_core_source"><a class="anchor" href="#_nothing_shown_in_the_console_after_starting_lisk_core_source"></a>Nothing shown in the console after starting Lisk Core (Source)</h3>
<div class="sect3">
<h4 id="_problem_3"><a class="anchor" href="#_problem_3"></a>Problem:</h4>
<div class="paragraph">
<p>After installing from Source and starting Lisk Core with <code>node dist/index.js</code>, no are logs visible in the console.
This is, in fact, an expected behavior, as the default console logging value in the config is <code>none</code>, which means no logs are shown in the console after starting the process.</p>
</div>
<div class="sect4">
<h5 id="_solution"><a class="anchor" href="#_solution"></a>Solution:</h5>
<div class="paragraph">
<p>To verify, that your installation works as expected, you can change
the`consoleLogLevel` to <code>error</code>, <code>info</code> or <code>debug</code>.
Alternatively, you can check the log files located in <code>logs/</code>, which are on <code>info</code> logging level by default.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_administration"><a class="anchor" href="#_administration"></a>Administration</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_enable_forging_delegate_not_found"><a class="anchor" href="#_enable_forging_delegate_not_found"></a>Enable forging: Delegate not found</h3>
<div class="sect3">
<h4 id="_problem_4"><a class="anchor" href="#_problem_4"></a>Problem:</h4>
<div class="paragraph">
<p>When trying to activate forging on your node, it answers with
<code>Delegate with publicKey: xyz not found</code></p>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset3_solution-1---node-still-syncing"></a>Solution 1 - Node still syncing</p>
</li>
<li>
<p><a id="tabset3_solution-2---missing-data-in-config-"></a>Solution 2 - Missing data in config </p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset3_solution-1---node-still-syncing">
<div class="paragraph">
<p>Check the current height of your Node and compare it with the Height in Explorer.
If your Nodes’ height is significantly lower than the height shown in the Explorer, it means your Node is still syncing/downloading the Lisk Blockchain.
At this time, enabling forging might fail, because the Delegate registration has not been downloaded, yet.
To solve it, just wait until your Node is fully synced.</p>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset3_solution-2---missing-data-in-config-">
<div class="paragraph">
<p>Check your <code>config.json</code> in section <code>forging.delegates</code>.
If you want to enable forging for a particular delegate on your node, you need to store an object with the delegates’ public key and encrypted passphrase in that section as described in the <a href="configuration.html#_forging" class="page">configuration:forging</a> section.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_enable_forging_invalid_password_and_public_key_combination"><a class="anchor" href="#_enable_forging_invalid_password_and_public_key_combination"></a>Enable forging: Invalid password and public key combination</h3>
<div class="sect3">
<h4 id="_problem_5"><a class="anchor" href="#_problem_5"></a>Problem:</h4>
<div class="paragraph">
<p>When trying to activate forging on a node like described in section <a href="configuration.html#_enabledisable_forging" class="page">Enable/Disable forging</a>, it responds with: <code>{"message":"\"Invalid password and public key combination\""}</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_solution_2"><a class="anchor" href="#_solution_2"></a>Solution:</h4>
<div class="paragraph">
<p>As the message states, the provided combination of your delegates publicKey and the password don’t seem to be valid.
Please ensure, both properties are set to the correct values, especially that you don’t use the original passphrase of your account with that command.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>We further explain the chosen naming to avoid confusion:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Passphrase</strong> is always referring to your 12-word long mnemonic passphrase that was created at the same time as your Lisk ID.
You should always keep this secure and private!
For communication with the API, the passphrase is not passed in plaintext.
Instead, the password is passed so you use it to encrypt your passphrase and the encrypted passphrase is stored in your <a href="configuration.html" class="page">config</a>.</p>
</li>
<li>
<p><strong>Password</strong> is always referring to the secret word/s you use to encrypt your passphrase symmetrically like described in the <a href="configuration.html#_forging" class="page">Forging section</a>.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Should you have any further queries please reach out to one of the team or the Lisk community on <a href="https://lisk.chat/">Lisk Discord</a></p>
</div>
</div>
</div>
</div>
</div>

</article>
<aside class="article-aside hidden" role="navigation">
    <h3 class="toc-title">On this page:</h3>
    <div id="article-toc"></div>
</aside>
</main>
</div>
<footer class="footer">
    <div class="footer__container">
        <div class="footer__copyright">
            <div class="institutional-links-2">
                <span class="institutional-links-2__item">© 2019 Lisk Foundation</span>
                <a class="institutional-links-2__item" href="https://lisk.io/terms-conditions" class="institutional-links-2-item">Terms & Conditions</a>
                <a class="institutional-links-2__item" href="https://lisk.io/privacy" class="institutional-links-2-item">Privacy Policy</a>
            </div>
            <p class="footer__copyright-text">Lisk is a foundation registered in Zug, Zwitserland
            </p>
        </div>
        <div class="footer__logo-container">
            <img src="../_/img/lisk-logo-light.svg" class="footer__lisk-logo"/>
        </div>
        <div class="community-section">
            <p class="community-section__text">Follow Lisk on: </p>
            <div class="community-section__icons">
                <a href="https://github.com/LiskHQ" target="_blank" class="footer__icon icon-github"></a>
                <a href="https://www.youtube.com/channel/UCuqpGfg_bOQ8Ja4pj811PWg/featured" target="_blank" class="footer__icon icon-youtube"></a>
                <a href="https://www.reddit.com/r/Lisk/" target="_blank" class="footer__icon icon-reddit"></a>
                <a href="https://www.linkedin.com/company/lisk/" target="_blank" class="footer__icon icon-linkedin"></a>
                <a href="https://twitter.com/LiskHQ" target="_blank" class="footer__icon icon-twitter"></a>
                <a href="https://www.facebook.com/LiskHQ" target="_blank" class="footer__icon icon-facebook"></a>
            </div>
        </div>
    </div>
</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.10.0/tocbot.min.js"></script>
<script src="../_/js/site.js"></script>
<script async src="../_/js/vendor/highlight.js"></script>
<script async src="../_/js/vendor/tabs-block-behaviour.js"></script>
<script>
    tocbot.init( {
        tocSelector: '#article-toc',
        contentSelector: 'article',
        headingSelector: 'h1, h2, h3, h4, h5',
        collapseDepth: 3,
        positionFixedSelector: null,
        scrollSmooth: true,
        scrollSmoothDuration: 420
    } );
    var tocList = document.getElementById( 'article-toc' ).getElementsByClassName( 'toc-list' );
    if ( tocList && tocList.length > 0 && tocList[0].childNodes.length > 0 ) {
        document.getElementById( 'article-toc' ).parentNode.classList.remove( 'hidden' );
    }
</script>

  </body>
</html>
