<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Lisk Core Configuration :: Docs</title>
    <link rel="canonical" href="https://lisk.io/documentation/lisk-core/configuration.html">
    <meta name="description" content="This explains how to configure Lisk Core. All available command line and configuration options are listed, and also how to manage forging and logging of Lisk Core are clarified.">
    <meta name="generator" content="Antora 2.2.0">
    <link rel="stylesheet" href="../_/css/site.css">
    <link rel="stylesheet" href="../_/css/site-extra.css">
      <link rel="stylesheet" href="../_/css/vendor/docsearch.min.css">
      <!-- fetched from https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css -->
    <link rel="icon" href="../favicon.ico" type="image/x-icon">
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
    <!--
    <link href="https://unpkg.com/primer/build/build.css" rel="stylesheet">
-->
<link rel="icon" href="/sites/default/files/favicons/favicon-32x32.png" type="image/png">
  </head>
  <body class="article">
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NKNKGHL');</script>
<!-- End Google Tag Manager -->
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NKNKGHL"
                  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

<header class="header">
  <nav class="navbar">
      <div class="navbar-content">
        <div class="navbar-brand">
          <a href="https://lisk.io" class="lisk-logo"></a>
            <span  class="nav-brand__name-area">
              <strong class="nav-brand__name-area__title">Core Docs</strong>
              </span>
          <button class="navbar-burger" data-target="topbar-nav">
            <span></span>
            <span></span>
            <span></span>
          </button>
        </div>
        <div id="topbar-nav" class="navbar-menu">
          <div class="navbar-end">
            <div class="navbar-item has-dropdown is-hoverable">
              <a class="navbar-link" href="#">Docs</a>
              <div class="navbar-dropdown">
                <a class="navbar-item" href="https://lisk.io/documentation/lisk-sdk/">Lisk SDK</a>
                <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/">Lisk Core</a>
              </div>
            </div>
              <div class="navbar-item has-dropdown is-hoverable">
                <a class="navbar-link" href="https://lisk.io/documentation/lisk-sdk/tutorials/index.html">Getting Started</a>
                <div class="navbar-dropdown">
                  <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/getting-started/maintain-a-node.html">Become a node operator</a>
                  <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/getting-started/interact-with-network.html">Interact with the network</a>
                </div>
              </div>
              <div class="navbar-item has-dropdown is-hoverable">
                <a class="navbar-link" href="https://lisk.io/documentation/lisk-sdk/tutorials/index.html">Setup</a>
                <div class="navbar-dropdown">
                  <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/setup/binary.html">Binary (default)</a>
                  <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/setup/commander.html">Commander</a>
                  <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/setup/docker.html">Docker</a>
                  <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/setup/source.html">Source</a>
                </div>
              </div>
              <div class="navbar-item has-dropdown is-hoverable">
                <a class="navbar-link" href="https://lisk.io/documentation/lisk-sdk/tutorials/index.html">Upgrade</a>
                <div class="navbar-dropdown">
                  <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/upgrade/binary.html">Binary (default)</a>
                  <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/upgrade/commander.html">Commander</a>
                  <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/upgrade/docker.html">Docker</a>
                  <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/upgrade/source.html">Source</a>
                </div>
              </div>
              <div class="navbar-item has-dropdown is-hoverable">
                <a class="navbar-link" href="https://lisk.io/documentation/lisk-sdk/tutorials/index.html">Administration</a>
                <div class="navbar-dropdown">
                  <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/administration/binary.html">Binary (default)</a>
                  <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/administration/commander.html">Commander</a>
                  <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/administration/docker.html">Docker</a>
                  <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/administration/source.html">Source</a>
                </div>
              </div>
              <div class="navbar-item has-dropdown is-hoverable">
                <a class="navbar-link" href="https://lisk.io/documentation/lisk-sdk/tutorials/index.html">Guides</a>
                <div class="navbar-dropdown">
                  <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/monitoring.html">Monitoring</a>
                  <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/migration.html">Migrating</a>
                  <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/troubleshooting.html">Troubleshooting</a>
                </div>
              </div>
              <div class="navbar-item has-dropdown is-hoverable">
                <a class="navbar-link" href="#">Reference</a>
                <div class="navbar-dropdown">
                  <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/configuration.html">Configuration</a>
                  <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/api.html">Testnet API</a>
                  <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/api-mainnet.html">Mainnet API</a>
                </div>
              </div>
          </div>
            <div class="navbar-menu">
              <div class="navbar-item hide-for-print">
                <input id="search-input" type="text" placeholder="Search docs">
              </div>
            </div>
        </div>
      </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="lisk-core" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">Lisk Core</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="getting-started.html">Getting Started</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="interact-with-network.html">Interact with the network</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text"><strong>Setup</strong></span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="setup/binary.html">Binary Installation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="setup/commander.html">Commander Installation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="setup/docker.html">Docker Installation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="setup/source.html">Source Installation</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text"><strong>Management</strong></span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="management/binary.html">Binary Commands</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="management/commander.html">Commander Commands</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="management/docker.html">Docker Commands</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="management/source.html">Source Commands</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#management/config.adoc">Config file handling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="management/api-access.html">Control API access</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="management/forging.html">Enable Forging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="management/logs.html">Activate logging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="management/ssl.html">Enable SSL</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text"><strong>Update</strong></span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="update/binary.html">Binary Update</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="update/commander.html">Commander Update</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="update/docker.html">Docker Update</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="update/source.html">Source Update</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="migration.html">Migration</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="monitoring.html">Monitoring</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="troubleshooting.html">Troubleshooting</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text"><strong>Reference</strong></span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="reference/api.html">API (Testnet)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="reference/api-mainnet.html">API (Mainnet)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#reference/configuration.adoc">Configuration</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Lisk Core</span>
    <span class="version">2.1.4 (latest)</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Lisk Core</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">2.1.4 (latest)</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Lisk SDK</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../lisk-sdk/index.html">2.3.7 (latest)</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main>
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../lisk-sdk/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Lisk Core</a></li>
    <li><a href="configuration.html">Lisk Core Configuration</a></li>
  </ul>
</nav>
<button class="toc-toggle"></button>
  <div class="edit-this-page"><a href="https://github.com/LiskHQ/lisk-docs/edit/398-fix-links/modules/ROOT/pages/configuration.adoc">Edit this Page</a></div>
  </div>
<article class="doc">
<h1 class="page">Lisk Core Configuration</h1>
<div id="preamble">
<div class="sectionbody">
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you are using the Docker distribution, Lisk Core is configured in a slightly different manner.
Please go to the <a href="#administration/docker.adoc#config" class="page unresolved">Docker Administration</a> page to find out more about the docker-specific configuration of the Lisk Core.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="command_line_options"><a class="anchor" href="#command_line_options"></a>Command Line Options</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Please note, there are numerous options available that can be deployed to override the configuration on the runtime whilst starting the Lisk Core.</p>
</div>
<div class="paragraph">
<p>To overwrite config options from the Command Line, execute the following commands below:</p>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset1_pass-options-as-env-variables"></a>Pass options as ENV variables</p>
</li>
<li>
<p><a id="tabset1_pass-options-as-flags"></a>Pass options as flags</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset1_pass-options-as-env-variables">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">LISK_NETWORK=[network] LISK_CONFIG_FILE=[config-path] LISK_ADDRESS=[address] LISK_WS_PORT=[port] pm2 start lisk</code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset1_pass-options-as-flags">
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
The flag options are deprecated.
Therefore it is recommend to pass the options as ENV variables.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">node dist/index.js -p [port] -a [address] -c [config-path] -n [network]</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>You can pass <code>devnet</code> (default), <code>alphanet</code>, <code>betanet</code>, <code>testnet</code> or <code>mainnet</code> for the <code>[network]</code> option.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
All <code>ENV</code> variables are restricted with a operating system constraint of <code>ENV</code> variable maximum length.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Comma-separated lists will replace the original config values.
For example, If <code>LISK_PEERS</code> is specified, the original <code>peers.list</code> specific to the network will be replaced completely.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Each of these options listed below can be appended in the command line:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command line Option</th>
<th class="tableblock halign-left valign-top">ENV Variable</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--network</code><br>
 <code>-n</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LISK_NETWORK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Any of these options can be used <code>devnet</code>, <code>alphanet</code>, <code>betanet</code>, <code>testnet</code> and <code>mainnet</code>.
The default value is <code>devnet</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--config</code><br>
<code>-c</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LISK_CONFIG_FILE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pass the custom configuration file, which will override values of the following: <code>config/default/config.json</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--port</code><br>
<code>-p</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LISK_WS_PORT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP port for P2P layer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--http-port</code><br>
<code>-h</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LISK_HTTP_PORT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP port for HTTP API</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--address</code><br>
<code>-a</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LISK_ADDRESS</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Listening host name or IP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--log</code><br>
<code>-l</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LISK_FILE_LOG_LEVEL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Log level for file output</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LISK_CONSOLE_LOG_LEVEL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Log level for console output</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LISK_CACHE_ENABLED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enable or disable cache. Must be set to true/false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--database</code><br>
<code>-d</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LISK_DB_NAME</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PostgreSQL database name to connect to</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LISK_DB_HOST</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PostgreSQL database host name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LISK_DB_PORT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PostgreSQL database port</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LISK_DB_USER</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PostgreSQL database username to connect to</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LISK_DB_PASSWORD</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PostgreSQL database password to connect to</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--redis</code><br>
<code>-r</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LISK_REDIS_HOST</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Redis host name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LISK_REDIS_PORT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Redis port</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LISK_REDIS_DB_NAME</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Redis database name to connect to</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LISK_REDIS_DB_PASSWORD</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Redis database password to connect to</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--peers</code><br>
<code>-p</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LISK_PEERS</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Comma separated list of peers to connect to in the following format <code>192.168.99.100:5000,172.169.99.77:5000</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LISK_API_PUBLIC</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enable or disable public access of http API. Must be set to true/false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LISK_API_WHITELIST</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Comma separated list of IPs to enable API access. Format <code>192.168.99.100,172.169.99.77</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LISK_FORGING_DELEGATES</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Comma separated list of delegates to load in the format <code>publicKey|encryptedPassphrase,publicKey2|encryptedPassphrase2</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LISK_FORGING_WHITELIST</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Comma separated list of IPs to enable access to forging endpoints. Format <code>192.168.99.100,172.169.99.77</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--rebuild</code><br>
<code>-b</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rebuilds certain database tables on the basis of the local blockchain data.
Must be followed by an integer, that specifies the last delegate round that should be part of the rebuild.
If 0 is specified, all rounds are rebuilt.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LISK_CHILD_PROCESS_MODULES</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Comma separated list of modules, that shall be loaded in a separate process.
To enable inter process communication, set <code>ipc.enabled</code> to <code>true</code> inside the <code>config.json</code> file.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="network_specific_config_files"><a class="anchor" href="#network_specific_config_files"></a>Network-specific config files</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The root folder for all configurations is <code>config/</code>.
The <strong>default</strong> network is <code>devnet</code>.
To connect to another network, specify the <code>network</code> when starting the Lisk Core, as described in <a href="#command_line_options">Source Administration</a>.
The <strong>network specific configurations</strong> can be found under <code>config/&lt;network&gt;/config.json</code>, whereby <code>&lt;network&gt;</code> can be any of these values listed below:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>devnet</code></p>
</li>
<li>
<p><code>alphanet</code></p>
</li>
<li>
<p><code>betanet</code></p>
</li>
<li>
<p><code>testnet</code></p>
</li>
<li>
<p><code>mainnet</code></p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Do not override any value in the files mentioned above, as the changes will be overwritten everytime the Lisk Core is upgraded.
If a custom configuration is required, use the environment variables or alternatively create your own <code>.json</code> file and pass it as <a href="#command_line_options">command line option</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_custom_config_file"><a class="anchor" href="#_custom_config_file"></a>Custom config file</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To use a custom config, firstly create a <code>.json</code>-file.
Further information can be found in the <a href="#structure">Config Structure</a> section.</p>
</div>
<div class="paragraph">
<p>Only the values required to be updated are needed, as for all other options the pre-defined values will be used as described in the <a href="#config_load_order">Config Load Order</a> section.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><strong>Binary</strong> and <strong>Commander</strong> distributions both provide a config.json, which can be customized as desired.</p>
</div>
<div class="paragraph">
<p>For <strong>Source</strong> distributions, the config file needs to be created seperately and needs to be passed as described below:</p>
</div>
</td>
</tr>
</table>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset2_binary"></a>Binary</p>
</li>
<li>
<p><a id="tabset2_commander"></a>Commander</p>
</li>
<li>
<p><a id="tabset2_source"></a>Source</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset2_binary">
<div class="paragraph">
<p>The binary script provides a custom <code>config.json</code> which is stored in the root folder of your Lisk Core installation by default.</p>
</div>
<div class="paragraph">
<p>For example, Lisk Core for Mainnet is installed under <code>~/lisk-main</code>, and the config is stored directly in <code>~/lisk-main/config.json</code></p>
</div>
<div class="paragraph">
<p>The config.json will be used automatically when reloading the node with the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">bash lisk.sh reload</code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset2_commander">
<div class="paragraph">
<p>Lisk Commander provides a custom <code>config.json</code> which is stored in the root folder of your Lisk Core instance by default.</p>
</div>
<div class="paragraph">
<p>For example, Lisk Core for Mainnet is installed under <code>~/.lisk/instances/lisk-mainnet</code>, and the config is stored directly in <code>~/.lisk/instances/lisk-main/config.json</code></p>
</div>
<div class="paragraph">
<p>The config.json will be used automatically when reloading the node with the following command:</p>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset2_source">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">pm2 stop lisk <i class="conum" data-value="1"></i><b>(1)</b>
LISK_CONFIG_FILE=&lt;CONFIG_PATH&gt; pm2 start lisk <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Stop Lisk Core in the case whereby it is running.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Replace <code>&lt;CONFIG_PATH&gt;</code> with the path to your custom config file.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="config_load_order"><a class="anchor" href="#config_load_order"></a>Config load order</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Configurations will be loaded in the following order listed below.
Each configuration will override the previous one:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Default configuration values of modules and components of the <a href="../lisk-sdk/lisk-framework/index.html" class="page">Lisk Framework</a></p>
</li>
<li>
<p><a href="#network_specific_config_files">Network specific configuration file</a></p>
</li>
<li>
<p>A <a href="#command_line_options">custom configuration file</a> (if specified by the user)</p>
</li>
<li>
<p><a href="#command_line_options">Command line configurations</a>, specified as command-line flags or <code>ENV</code> variables.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>For development purposes, use <code>devnet</code> as the network option.
Other networks are specific to public Lisk networks.</p>
</div>
<div class="paragraph">
<p>The <code>config.json</code> file and a description of each configurable parameter.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="structure"><a class="anchor" href="#structure"></a>Structure</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A breakdown of the code structure can be seen below:</p>
</div>
<div class="paragraph">
<p>Unresolved include directive in modules/ROOT/pages/configuration.adoc - include::../../ROOT/partials/configuration.adoc[]</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="api_access"><a class="anchor" href="#api_access"></a>API Access Control</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Controlling access to a node plays a vital role in security.
The following configurable flags are available to control the access to your node:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">{
  "modules": {
    "http_api": { <i class="conum" data-value="1"></i><b>(1)</b>
      "enabled": true, <i class="conum" data-value="2"></i><b>(2)</b>
      "access": { <i class="conum" data-value="3"></i><b>(3)</b>
        "public": false, <i class="conum" data-value="4"></i><b>(4)</b>
        "whiteList": ["127.0.0.1"], <i class="conum" data-value="5"></i><b>(5)</b>
      },
    }
  }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Contains options for the API module.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Controls the API&#8217;s availability.
If disabled, no API access is possible.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Contains API access options.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>If true, the API endpoints of the node are available to public.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>This parameter allows connections to the API by IP. Defaults to only allow local host.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The recommended setup is to configure a whitelist for only trusted IP addresses, such as your home connection.
Use IPV4 addresses only as the whitelist does not support IPV6.</p>
</div>
<div class="paragraph">
<p>To set up a public wallet, simply leave the <code>modules.http_api.access.whitelist</code> array empty.</p>
</div>
<div class="paragraph">
<p>For optimal security, disable all access setting <code>modules.http_api.enabled</code> to <code>false</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This last configuration may prevent monitoring scripts from functioning.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="forging"><a class="anchor" href="#forging"></a>Forging</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To enable your node to forge, firstly it is required to insert some encrypted data into the config file under the <code>chain.forging.delegates</code> array.
To encrypt your passphrase, it is recommended to use one of the following alternatives listed below:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../lisk-sdk/lisk-commander/user-guide/commands.html" class="page">Lisk Commander</a> via <code>encrypt passphrase</code> command.</p>
</li>
<li>
<p><a href="../lisk-sdk/lisk-elements/packages/cryptography.html" class="page">Cryptography module of Lisk Elements</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The first alternative with the Lisk Commander is described in detail below.
Please ensure the Lisk Commander is installed in a secure environment.
Upon completion, please follow these commands to generate the encrypted passphrase:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ lisk
lisk passphrase:encrypt --output-public-key
Please enter your secret passphrase: *****
Please re-enter your secret passphrase: *****
Please enter your password: ***
Please re-enter your password: ***
{
        "encryptedPassphrase": "iterations=1000000&amp;cipherText=30a3c8&amp;iv=b0d7322bf24e0dfe08462f4f&amp;salt=aa7e26c9f4317b61b4f45b5c6909f941&amp;tag=a2e0eadaf1f11a10b342965bc3bafc68&amp;version=1",
        "publicKey": "a4465fd76c16fcc458448076372abf1912cc5b150663a64dffefe550f96feadd"
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Type in your passphrase followed by the password required for encryption.</p>
</li>
<li>
<p>This will result in the creation of an <code>encryptedPassphrase</code> key-value pair.</p>
</li>
<li>
<p>Create the JSON object and add it to your <code>config.json</code> under <code>chain.forging.delegates</code> as can be seen below:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">{
  "modules": {
    "chain": { <i class="conum" data-value="1"></i><b>(1)</b>
      "forging": { <i class="conum" data-value="2"></i><b>(2)</b>
        "force": false, <i class="conum" data-value="3"></i><b>(3)</b>
        "delegates": [ <i class="conum" data-value="4"></i><b>(4)</b>
            {
                "encryptedPassphrase": "iterations=1&amp;salt=476d4299531718af8c88156aab0bb7d6&amp;cipherText=663dde611776d87029ec188dc616d96d813ecabcef62ed0ad05ffe30528f5462c8d499db943ba2ded55c3b7c506815d8db1c2d4c35121e1d27e740dc41f6c405ce8ab8e3120b23f546d8b35823a30639&amp;iv=1a83940b72adc57ec060a648&amp;tag=b5b1e6c6e225c428a4473735bc8f1fc9&amp;version=1",
                "publicKey": "9d3058175acab969f41ad9b86f7a2926c74258670fe56b37c429c01fca9f2f0f"
            }
        ],
      },
    },
    "http_api": { <i class="conum" data-value="5"></i><b>(5)</b>
      "forging": {
        "access": {
          "whiteList": ["127.0.0.1", "REPLACE_ME"], <i class="conum" data-value="6"></i><b>(6)</b>
        },
      },
    }
  }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Contains options for the chain module.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Contains forging options for delegates.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Forces forging to be 'on'.
This is only used on local development networks.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The list of delegates who are allowed to forge on this node.
To successfully enable forging for a delegate, the public key and the encrypted passphrase need to be deposited here as a JSON object.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Contains options for the API module.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Replace with the IP which will be used to access your node</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Reload your Lisk Core process to make the changes in the config effective.
For example, for Binary install, run the following command: <code>bash lisk.sh reload</code></p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="check_forging"><a class="anchor" href="#check_forging"></a>Check Forging</h3>
<div class="paragraph">
<p>Use the following <code>curl</code> command to verify the forging status of your delegate as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">curl \
  http://127.0.0.1:7000/api/node/status/forging \
  -H 'cache-control: no-cache' \
  -H 'content-type: application/json'</code></pre>
</div>
</div>
<div class="paragraph">
<p>The result should appear as shown below in the following code snippet:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "meta": {},
  "data": [
    {
      "forging": true,
      "publicKey": "9bc945f92141d5e11e97274c275d127dc7656dda5c8fcbf1df7d44827a732664"
    }
  ],
  "links": {}
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="forging_enable_disable"><a class="anchor" href="#forging_enable_disable"></a>Enable/Disable Forging</h3>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Remember that after restarting your Lisk node, it is necessary to re-enable forging again.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The endpoint to perform this action is <strong>idempotent</strong>.</p>
</div>
<div class="paragraph">
<p>This means that the results are identical, regardless of how many times the query is executed.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If your Lisk Node is running on a local machine, it is possible to enable forging through the API client, without any further interruption.</p>
</div>
<div class="paragraph">
<p>Use the following curl command to <strong>enable the forging</strong> for your delegate as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">curl -X PUT \
  http://127.0.0.1:7000/api/node/status/forging \
  -H 'cache-control: no-cache' \
  -H 'content-type: application/json' \
  -d '{
          "publicKey": "YYYYYYYYY",
          "password": "XXX",
          "forging": true
      }'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Use the following curl command to <strong>disable the forging</strong> for your delegate as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">curl -X PUT \
  http://127.0.0.1:7000/api/node/status/forging \
  -H 'cache-control: no-cache' \
  -H 'content-type: application/json' \
  -d '{
          "publicKey": "YYYYYYYYY",
          "password": "XXX",
          "forging": false
      }'</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>publicKey</code> is the key for the delegate which is required to be enabled/disabled.</p>
</li>
<li>
<p><code>password</code> is the password used to encrypt your passphrase in <code>config.json</code></p>
</li>
<li>
<p><code>forging</code> is the boolean value to enable or disable the forging.</p>
</li>
<li>
<p>The HTTP Port can be different based on your configuration, therefore it is recommended to check the <code>httpPort</code> in your <code>config.json</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ssl"><a class="anchor" href="#ssl"></a>SSL</h2>
<div class="sectionbody">
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>It is recommended to use a webserver such as <a href="https://www.nginx.com/">NGINX</a> or <a href="https://httpd.apache.org/">Apache</a> to set up the SSL for the Lisk Core.
If that opportunity is not available then it is also possible to configure the Lisk Core to handle SSL connections as described below:</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This step requires a signed certificate, (from a CA, such as <a href="https://letsencrypt.org">Let’s Encrypt</a>) or a self-signed certificate.
Both the private and public keys will be needed in a location that is accessible to Lisk Core.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following code snippet listed below displays the essential parameters required to enable SSL security on your node’s connections:</p>
</div>
<div class="paragraph">
<p><strong>SSL Configuration</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">{
  "modules": {
      "http_api": {
          "ssl": {
              "enabled": false,           <i class="conum" data-value="1"></i><b>(1)</b>
              "options": {
                  "port": 443,            <i class="conum" data-value="2"></i><b>(2)</b>
                  "address": "0.0.0.0",   <i class="conum" data-value="3"></i><b>(3)</b>
                  "key": "path_to_key",   <i class="conum" data-value="4"></i><b>(4)</b>
                  "cert": "path_to_cert"  <i class="conum" data-value="5"></i><b>(5)</b>
              }
          }
      }
  }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Change from false to true.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Default SSL Port.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Change only if it is required to block web access to the node.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Replace <code>path_to_key</code> with the actual path to the key file.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Replace <code>path_to_cert</code> with the actual path to the certificate file.</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
If the SSL Port configured above in <code>http_api.ssl.options.port</code> is a privileged port, (below 1024), then either the node must be allowed to use the specified port with <code>setcap</code>, or the configuration must be changed in order to to use a port outside of that range.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Setcap:</strong> This is only required to grant Lisk access to port 443.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"> sudo setcap cap_net_bind_service=+ep bin/node</code></pre>
</div>
</div>
<div class="paragraph">
<p>To verify your node has been configured correctly, open the web client using this url: <code><a href="https://MY_IP_OR_HOST" class="bare">https://MY_IP_OR_HOST</a></code>.
A secure SSL connection should now be visible.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="logging"><a class="anchor" href="#logging"></a>Logging</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For monitoring or debugging your node, Lisk Core tracks all activities that occur within the node by creating applicable log messages.</p>
</div>
<div class="paragraph">
<p>These log messages are grouped in different log levels.
Hence, this makes it easy to define the level of the log details.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/trentm/node-bunyan">Bunyan</a> is used for the logging library, as this allows simple and fast JSON logging for Node.js services.</p>
</div>
<div class="sect2">
<h3 id="log_levels"><a class="anchor" href="#log_levels"></a>Log Levels</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 8%;">
<col style="width: 92%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Log Level</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No events are logged.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fatal(60)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The node is going to stop or become unusable. This requires
the operator to investigate the problem.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error(50)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fatal for a particular request, however the node continues
servicing other requests. This also requires
the operator to investigate the problem, although it does not necessarily require immediate attention.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Warn(40)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A warning indication that should be investigated eventually.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Info(30)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Detail on a regular operation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Debug(20)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Anything else, i.e. too verbose to be included in ``info''
level.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trace(10)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logging from external libraries used by your node, or else very
detailed application logging.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_logging_destinations"><a class="anchor" href="#_logging_destinations"></a>Logging destinations</h3>
<div class="paragraph">
<p>There are two possible output sources for the logs: The <code><strong>file log stream</strong></code> and the <code><strong>console log stream</strong></code>.
Each output source can be configured independently inside of <code>config.json</code> under the options for the <code>logger</code> component.</p>
</div>
<div class="sect3">
<h4 id="_console_log_stream"><a class="anchor" href="#_console_log_stream"></a>Console log stream</h4>
<div class="paragraph">
<p>The console log level displays the logs directly to the console from where the Lisk Core process is started.
It is useful for quick debugging or verifying that Lisk Core starts correctly.
Default log level for the console log stream is <code>none</code>.</p>
</div>
<div class="paragraph">
<p><strong>An example command displaying the console log stream can be seen below:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">node dist/index.js | npx bunyan  <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Pretty-prints console logs with log level equal or higher to the console log level.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For more information regarding the Bunyan CLI tool, please refer to the official <a href="http://trentm.com/node-bunyan/bunyan.1.html">Bunyan Documentation</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_file_log_stream"><a class="anchor" href="#_file_log_stream"></a>File log stream</h4>
<div class="paragraph">
<p>All logs that have equal or higher log levels than the in <code>config.json</code> specified file log level are saved in a <code>.log</code>-file for further analysis.
By default, the generated log files are saved inside of the <code>logs</code> folder of Lisk Core.
Default log level for the file log stream is <code>info</code>.</p>
</div>
<div class="paragraph">
<p>The file log stream can be used to <a href="monitoring.html#log_monitoring" class="page">monitor the node via logs</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="logrotation"><a class="anchor" href="#logrotation"></a>Logrotation</h3>
<div class="paragraph">
<p>It is recommended to set up some form of log rotation for the log files of Lisk Core.
If log rotation is not initiated, then the log files may grow very large over time, (depending on the specified file log level), and hence will eventually exceed the server&#8217;s disk space limits.</p>
</div>
<div class="paragraph">
<p>For example, Ubuntu systems provide a service called <code>logrotate</code> specifically for this purpose.
Please ensure Logrotate is installed on your system as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">logrotate --version</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now go to the logrotate config directory and create a new logrotate file for Lisk Core as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cd /etc/logrotate.d
touch lisk</code></pre>
</div>
</div>
<div class="paragraph">
<p>Inside this file, define the parameters for the log rotation.</p>
</div>
<div class="paragraph">
<p>Example values can be seen below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">/path/to/lisk/logs/mainnet/*.log {
        daily                   <i class="conum" data-value="1"></i><b>(1)</b>
        rotate 5                <i class="conum" data-value="2"></i><b>(2)</b>
        maxage 14               <i class="conum" data-value="3"></i><b>(3)</b>
        compress                <i class="conum" data-value="4"></i><b>(4)</b>
        delaycompress           <i class="conum" data-value="5"></i><b>(5)</b>
        missingok               <i class="conum" data-value="6"></i><b>(6)</b>
        notifempty              <i class="conum" data-value="7"></i><b>(7)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Daily rotation.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Keeps the last 5 most recent logs.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Removes logs that are older than 14 days.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Compresses old log files.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Compresses the data after it has been moved.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>If no log file is present, then it is ignored.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Does not rotate empty log files.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>After customizing and saving the config to fit your requirements, it is recommended to test it by doing a dry run using the following command listed below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sudo logrotate /etc/logrotate.conf --debug</code></pre>
</div>
</div>
</div>
</div>
</div>

</article>
<aside class="article-aside hidden" role="navigation">
    <h3 class="toc-title">On this page:</h3>
    <div id="article-toc"></div>
</aside>
</main>
</div>
<footer class="footer">
    <div class="footer__container">
        <div class="footer__copyright">
            <div class="institutional-links-2">
                <span class="institutional-links-2__item">© 2019 Lisk Foundation</span>
                <a class="institutional-links-2__item" href="https://lisk.io/terms-conditions" class="institutional-links-2-item">Terms & Conditions</a>
                <a class="institutional-links-2__item" href="https://lisk.io/privacy" class="institutional-links-2-item">Privacy Policy</a>
            </div>
            <p class="footer__copyright-text">Lisk is a foundation registered in Zug, Zwitserland
            </p>
        </div>
        <div class="footer__logo-container">
            <img src="../_/img/lisk-logo-light.svg" class="footer__lisk-logo"/>
        </div>
        <div class="community-section">
            <p class="community-section__text">Follow Lisk on: </p>
            <div class="community-section__icons">
                <a href="https://github.com/LiskHQ" target="_blank" class="footer__icon icon-github"></a>
                <a href="https://www.youtube.com/channel/UCuqpGfg_bOQ8Ja4pj811PWg/featured" target="_blank" class="footer__icon icon-youtube"></a>
                <a href="https://www.reddit.com/r/Lisk/" target="_blank" class="footer__icon icon-reddit"></a>
                <a href="https://www.linkedin.com/company/lisk/" target="_blank" class="footer__icon icon-linkedin"></a>
                <a href="https://twitter.com/LiskHQ" target="_blank" class="footer__icon icon-twitter"></a>
                <a href="https://www.facebook.com/LiskHQ" target="_blank" class="footer__icon icon-facebook"></a>
            </div>
        </div>
    </div>
</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.10.0/tocbot.min.js"></script>
<script src="../_/js/site.js"></script>
<script async src="../_/js/vendor/highlight.js"></script>
<script async src="../_/js/vendor/tabs-block-behaviour.js"></script>
<script>
    tocbot.init( {
        tocSelector: '#article-toc',
        contentSelector: 'article',
        headingSelector: 'h1, h2, h3, h4, h5',
        collapseDepth: 3,
        positionFixedSelector: null,
        scrollSmooth: true,
        scrollSmoothDuration: 420
    } );
    var tocList = document.getElementById( 'article-toc' ).getElementsByClassName( 'toc-list' );
    if ( tocList && tocList.length > 0 && tocList[0].childNodes.length > 0 ) {
        document.getElementById( 'article-toc' ).parentNode.classList.remove( 'hidden' );
    }
</script>
  <script src="../_/js/vendor/docsearch.min.js"></script>
  <!-- fetched from https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js -->
  <script>
    function focusSearchInput () { document.querySelector('#search-input').focus() }
    var search = docsearch({
        appId: 'C4SU57KGV9',
      apiKey: '55aa8709b04eb62f08f87571cf77547c',
      indexName: 'lisk-docs-search',
      inputSelector: '#search-input',
      autocompleteOptions: { hint: false, keyboardShortcuts: ['s'] },
      algoliaOptions: { hitsPerPage: 10 }
    }).autocomplete
    search.on('autocomplete:closed', function () { search.autocomplete.setVal() })
    focusSearchInput()
    window.addEventListener('load', focusSearchInput)
  </script>

  </body>
</html>
