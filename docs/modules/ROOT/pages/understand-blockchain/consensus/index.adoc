= Consensus protocols
:toc:
:fn_fork: footnote:eventroot[Fork: A blockchain has forked, if two or more conflicting states(i.e. chain of blocks) of the blockchain exist in the network, and the network is unable to decide which is the correct state.]
:fn_crosschain: footnote:crosschain[Cross-chain: Means that two or more different blockchains are involved.]
:fn_validators: footnote:validators[Validators: Accounts eligible to add new blocks to the chain.]

// Project URLs
:url_understand_dpos: understand-blockchain/consensus/dpos.adoc
:url_understand_poa: understand-blockchain/consensus/poa.adoc
:url_understand_bft: understand-blockchain/bft.adoc
:url_understand_interop: understand-blockchain/interoperability.adoc
:url_intro_consensus: intro/how-blockchain-works.adoc#consensus-mechanisms

A consensus protocol is the protocol for validators{fn_validators} to **agree on one chain of blocks**.
In particular, the consensus protocol defines, when a block and all included transactions are **final**, i.e., irrevocably deemed part of the blockchain.

== Consensus protocols in Lisk


[cols="1a,1,2a"]
|===
|Consensus domain|Consensus protocol|Responsible for

|Block proposal
|xref:{url_understand_dpos}[Lisk DPoS] or xref:{url_understand_poa}[Lisk PoA]
|* **Choosing validators**: Deciding who can be validator, i.e. who is allowed to add new blocks to the blockchain.
* **Block frequency**: Defining when a block is added to the chain.

|Agreement on one chain
|xref:{url_understand_bft}[Lisk BFT]
|* **Fork{fn_fork} prevention**: Determining how validators choose the chain to which they add a new block.
* **Chain finalization**: Determining when a block (and all included transactions) is irrevocably deemed part of the blockchain.

|Cross-chain{fn_crosschain} agreement
|xref:{url_understand_interop}[Lisk Interoperability]
|* **Verifying cross-chain communication**: Attesting the correctness of cross-chain messages with certificates.
* **Chain of trust for validators **: Attesting updates about the current validator set of a chain in certificates.

|===

//TODO: Link to consensus definitions from intro
//TODO: Link to Lisk consensus pages dpos, poa & bft

== Consensus domains

=== 1. Block proposal


=== 2. Agreement on one chain



=== 3. Certificate generation


